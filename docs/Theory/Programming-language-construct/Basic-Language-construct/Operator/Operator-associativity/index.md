# Operator associativity

## wikipedia [Operator associativity](https://en.wikipedia.org/wiki/Operator_associativity)

In [programming languages](https://en.wikipedia.org/wiki/Programming_languages), the **associativity** of an [operator](https://en.wikipedia.org/wiki/Operator_(programming)) is a property that determines how operators of the same [precedence](https://en.wikipedia.org/wiki/Order_of_operations) are grouped in the absence of [parentheses](https://en.wikipedia.org/wiki/Bracket_(mathematics)). If an [operand](https://en.wikipedia.org/wiki/Operand) is both preceded and followed by operators (for example, `^ 3 ^`), and those operators have equal precedence, then the operand may be used as input to two different operations (i.e. the two operations indicated by the two operators). The choice of which operations to apply the operand to, is determined by the "**associativity**" of the operators. **Operators** may be **associative** (meaning the operations can be grouped arbitrarily（任意的）), **left-associative** (meaning the operations are grouped from the left), **right-associative** (meaning the operations are grouped from the right) or **non-associative** (meaning operations cannot be chained, often because the output type is incompatible with the input types). The associativity and precedence of an operator is a part of the definition of the programming language; different programming languages may have different associativity and precedence for the same type of operator.

> NOTE: 
>
> 在编程语言中，运算符的关联性是一种属性，它确定在没有括号的情况下如何对具有相同优先级的运算符进行分组。如果操作数在运算符之前和之后（例如^ 3 ^），并且那些运算符具有相同的优先级，则该操作数可以用作两个不同操作（即两个运算符指示的两个操作）的输入。将操作数应用于哪个运算的选择，取决于运算符的“关联性”。运算符可以是关联的（表示操作可以任意分组），左关联的（表示操作从左开始分组），右关联的（表示操作从右开始分组）或非关联的（表示操作不能链接，通常是因为输出类型与输入类型不兼容）。运算符的关联性和优先级是编程语言定义的一部分；对于相同类型的运算符，不同的编程语言可能具有不同的关联性和优先级。

Consider the expression `a ~ b ~ c`. If the operator `~` has left associativity, this expression would be interpreted as `(a ~ b) ~ c`. If the operator has right associativity, the expression would be interpreted as `a ~ (b ~ c)`. If the operator is non-associative, the expression might be a [syntax error](https://en.wikipedia.org/wiki/Syntax_error), or it might have some special meaning. Some mathematical operators have inherent（固有的） **associativity**. For example, subtraction and division, as used in conventional math notation, are **inherently left-associative**. Addition and multiplication, by contrast, are both left and right associative. (e.g. `(a * b) * c = a * (b * c)`).

Many programming language manuals provide a table of operator precedence and associativity; see, for example, [the table for C and C++](https://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Operator_precedence).

The concept of notational associativity described here is related to, but different from the mathematical [associativity](https://en.wikipedia.org/wiki/Associativity). An operation that is mathematically associative, by definition requires no notational associativity. (For example, addition has the associative property, therefore it does not have to be either left associative or right associative.) An operation that is not mathematically associative, however, must be notationally left-, right-, or non-associative. (For example, subtraction does not have the associative property, therefore it must have notational associativity.)

### Examples

Associativity is only needed when the operators in an expression have **the same precedence**. Usually `+` and `-` have the same precedence. Consider the expression `7 − 4 + 2`. The result could be either `(7 − 4) + 2 = 5` or `7 − (4 + 2) = 1`. The former result corresponds to the case when `+` and `−` are left-associative, the latter to when `+` and `-` are right-associative.

In order to reflect normal usage, [addition](https://en.wikipedia.org/wiki/Addition), [subtraction](https://en.wikipedia.org/wiki/Subtraction), [multiplication](https://en.wikipedia.org/wiki/Multiplication), and [division](https://en.wikipedia.org/wiki/Division_(mathematics)) operators are usually **left-associative**,[[1\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-Bronstein_1987-1)[[2\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-2)[[3\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-3)[[4\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-4)[[5\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-5) while for an [exponentiation](https://en.wikipedia.org/wiki/Exponentiation) operator (if present)[[6\]](https://en.wikipedia.org/wiki/Operator_associativity#cite_note-Codeplea_2016-6) and [Knuth's up-arrow operators](https://en.wikipedia.org/wiki/Knuth's_up-arrow_notation) there is no general agreement. Any [assignment](https://en.wikipedia.org/wiki/Assignment_(computer_science)) operators are typically **right-associative**. To prevent cases where operands would be associated with two operators, or no operator at all, operators with the same precedence must have the same associativity.

