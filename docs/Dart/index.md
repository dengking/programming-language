# Dart 



## Dart的一些特性

### AOP

#### annotation(注解)

medium [Implementing structs by value in Dart FFI](https://medium.com/dartlang/implementing-structs-by-value-in-dart-ffi-1cb1829d11a9) 

```dart
@struct
class Coordinate extends Pointer<Void> {
  @Double()
  double x;

  @Double()
  double y;

  @Pointer()
  Coordinate next;

  /// generated by @ffi.struct annotation
  external static int sizeOf();

  static Coordinate allocate({int count: 1}) =>
    allocate<Uint8>(count: count * sizeOf()).cast();
}
```

### Generic programming

#### pattern match

在 medium [Implementing structs by value in Dart FFI](https://medium.com/dartlang/implementing-structs-by-value-in-dart-ffi-1cb1829d11a9) 中，提及了用法。



### OOP

参见 `Dart/Language-tour/OOP`

## 官方文档



### [Dart overview](https://dart.dev/overview)

> NOTE: 
>
> 这篇文章还不错，对Dart的核心特性进行了比较好的概述
>
> 





## null in dart

dart是sound null safety language。

### stackoverflow [What is the Dart null checking idiom or best practice?](https://stackoverflow.com/questions/17006664/what-is-the-dart-null-checking-idiom-or-best-practice)

> NOTE: 
>
> 总结的非常好

### Dart null-aware operators



## Dart function



### null lambda function

在 dart codelabs [Asynchronous programming: futures, async, await](https://dart.dev/codelabs/async-await) 中展示了用法。



### stackoverflow [What is the dart function type syntax for variable declaration?](https://stackoverflow.com/questions/17617224/what-is-the-dart-function-type-syntax-for-variable-declaration)



## Dart detect plateform

stackoverflow [How do you detect the host platform from Dart code?](https://stackoverflow.com/questions/45924474/how-do-you-detect-the-host-platform-from-dart-code)



## Dart dynamic

stackoverflow [How to convert Class object to data structure `Map` or a `List of Maps` in Dart?](https://stackoverflow.com/questions/54949087/how-to-convert-class-object-to-data-structure-map-or-a-list-of-maps-in-dart)

```dart
class Human {
  String name;
  int age;

  Map<String, dynamic> toMap() {
    return {
      'name': name,
      'age': age,
    };
  }
}
```



## Dart object hash code

stackoverflow [What's a good recipe for overriding hashcode in Dart?](https://stackoverflow.com/questions/20577606/whats-a-good-recipe-for-overriding-hashcode-in-dart)



## Dart string

### C string to dart string

github [String parameter support #72](https://github.com/dart-lang/ffigen/issues/72)

stackoverflow [How to pass a list of strings to C In dart ffi](https://stackoverflow.com/questions/68377638/how-to-pass-a-list-of-strings-to-c-in-dart-ffi)



## TODO

一、将callback转化为dart future，如果callback会被多次调用，那么future能够被多次设置value吗？

答案: future只能够被设置一次value。

下面是相关内容:

flutterigniter [Why Is My Future/Async Called Multiple Times?](https://flutterigniter.com/future-async-called-multiple-times/)

