<!DOCTYPE html>
<!-- saved from url=(0070)https://stackoverflow.com/questions/1008019/c-singleton-design-pattern -->
<html itemscope="" itemtype="http://schema.org/QAPage" class="html__responsive"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <title>C++ Singleton design pattern - Stack Overflow</title>
        <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196">
        <link rel="apple-touch-icon" href="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a">
        <link rel="image_src" href="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a"> 
        <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="https://stackoverflow.com/opensearch.xml">
        <link rel="canonical" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern">
        <meta property="og:site_name" content="Stack Overflow">
        <meta property="og:image" itemprop="image primaryImageOfPage" content="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:domain" content="stackoverflow.com">
        <meta name="twitter:title" property="og:title" itemprop="name" content="C++ Singleton design pattern">
        <meta name="twitter:description" property="og:description" itemprop="description" content="Recently I&#39;ve bumped into a realization/implementation of the Singleton design pattern for C++. It has looked like this (I have adopted it from the real life example):

// a lot of methods are omit...">

        <script src="./C++ Singleton design pattern - Stack Overflow_files/osd.js.下载"></script><script src="./C++ Singleton design pattern - Stack Overflow_files/rules-p-c1rF4kxgLUzNc.js.下载" async=""></script><script async="" src="./C++ Singleton design pattern - Stack Overflow_files/quant.js.下载"></script><script async="" src="./C++ Singleton design pattern - Stack Overflow_files/beacon.js.下载"></script><script async="" src="./C++ Singleton design pattern - Stack Overflow_files/analytics.js.下载"></script><script src="./C++ Singleton design pattern - Stack Overflow_files/jquery.min.js(1).下载"></script>
        <script src="./C++ Singleton design pattern - Stack Overflow_files/stub.en.js.下载"></script>
    
        <link rel="stylesheet" type="text/css" href="./C++ Singleton design pattern - Stack Overflow_files/stacks.css">
        <link rel="stylesheet" type="text/css" href="./C++ Singleton design pattern - Stack Overflow_files/primary.css">

    
            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;C++ Singleton design pattern&#39;" href="https://stackoverflow.com/feeds/question/1008019">
            <meta name="twitter:app:country" content="US">
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS">
            <meta name="twitter:app:id:iphone" content="871299723">
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/1008019/c-singleton-design-pattern">
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS">
            <meta name="twitter:app:id:ipad" content="871299723">
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/1008019/c-singleton-design-pattern">
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/1008019/c-singleton-design-pattern">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
            StackExchange.ready(function () {

                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    
                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });


                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:14,shownCommentCount:5,questionId:1008019});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '1008019');
                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.js-post-body'); });

                
                
            });
        </script>

        
        
        
        
        
        
        


    <script>
        StackExchange.init({"locale":"en","serverTime":1598597415,"routeName":"Questions/Show","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"childUrl":"https://meta.stackoverflow.com","negativeVoteScoreFloor":null,"enableSocialMediaInSharePopup":true,"protocol":"https"},"user":{"fkey":"9483ff27363ed74d76e9369374afca7faec9493fd3461d732d7b019eec9a5bbd","tid":"e15ee59b-4d69-4c0d-5f4f-ab72934e001a","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true},"events":{"postType":{"question":1},"postEditionSection":{"title":1,"body":2,"tags":3}},"story":{"minCompleteBodyLength":75,"likedTagsMaxLength":300,"dislikedTagsMaxLength":300},"jobPreferences":{"maxNumDeveloperRoles":2,"maxNumIndustries":4},"svgIconPath":"https://cdn.sstatic.net/Img/svg-icons","svgIconHash":"0948c9cecffc"}, {"userProfile":{"openGraphAPIKey":"4a307e43-b625-49bb-af15-ffadf2bda017"},"userMessaging":{"showNewFeatureNotice":true},"tags":{},"subscriptions":{"defaultMaxTrueUpSeats":1000},"snippets":{"renderDomain":"stacksnippets.net","snippetsEnabled":true},"slack":{"sidebarAdDismissCookie":"slack-sidebar-ad","sidebarAdDismissCookieExpirationDays":60.0},"site":{"allowImageUploads":true,"enableImgurHttps":true,"enableUserHovercards":true,"forceHttpsImages":true,"styleCode":true},"paths":{},"monitoring":{"clientTimingsAbsoluteTimeout":30000,"clientTimingsDebounceTimeout":1000},"mentions":{"maxNumUsersInDropdown":50},"markdown":{"asteriskIntraWordEmphasis":true,"enableCommonmark":true},"flags":{"allowRetractingCommentFlags":true,"allowRetractingFlags":true},"comments":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true}});
        StackExchange.using.setCacheBreakers({"js/adops.en.js":"22a9bd59b1e9","js/ask.en.js":"f4270fa633d7","js/begin-edit-event.en.js":"cb9965ad8784","js/events.en.js":"495bf431ae79","js/explore-qlist.en.js":"8338a28bee11","js/full-anon.en.js":"8e0ea0c023b2","js/full.en.js":"655e852a2ef2","js/help.en.js":"b66b9c5b699c","js/inline-tag-editing.en.js":"fe64d2a7c57d","js/keyboard-shortcuts.en.js":"7d413027a312","js/mobile.en.js":"fc1de9c068f7","js/moderator.en.js":"b62ce0f34b23","js/postCollections-transpiled.en.js":"e61b53c5a990","js/post-validation.en.js":"955cfde0f649","js/prettify-full.en.js":"d27249c9649a","js/question-editor.en.js":"","js/review.en.js":"0023d4761c1b","js/revisions.en.js":"fa23b076b70a","js/tageditor.en.js":"eb376bf010e2","js/tageditornew.en.js":"6ce1c0ba6b00","js/tagsuggestions.en.js":"a9ff449efcdc","js/third-party/stacks-editor/app.bundle.js":"28cd87760257","js/third-party/stacks-editor/app.bundle.en.js":"","js/wmd.en.js":"9d3df4c60933","js/snippet-javascript-codemirror.en.js":"7f4ffe825568","js/markdown-it-loader.en.js":"ecbf27350e73"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    <noscript id="noscript-css"><style>body,.top-bar{margin-top:1.9em}</style></noscript>
    <script async="" src="./C++ Singleton design pattern - Stack Overflow_files/full-anon.en.js.下载"></script><script async="" src="./C++ Singleton design pattern - Stack Overflow_files/post-validation.en.js.下载"></script><script async="" src="./C++ Singleton design pattern - Stack Overflow_files/prettify-full.en.js.下载"></script><link rel="stylesheet" href="./C++ Singleton design pattern - Stack Overflow_files/clc.min.css" type="text/css"><script src="./C++ Singleton design pattern - Stack Overflow_files/pubads_impl_2020082601.js.下载" async=""></script><link rel="preload" href="./C++ Singleton design pattern - Stack Overflow_files/f.txt" as="script"><script type="text/javascript" src="./C++ Singleton design pattern - Stack Overflow_files/f.txt"></script><link rel="prefetch" href="https://4a017e80f0370668798b2c19ec802113.safeframe.googlesyndication.com/safeframe/1-0-37/html/container.html"><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-37/html/container.html"><style type="text/css">.svg-skeleton-element-during-loading { display: none !important; }</style></head>
    <body class="question-page unified-theme">
    <div id="notify-container"></div>
    <div id="custom-header"></div>
        
<header class="top-bar js-top-bar top-bar__network _fixed">
    <div class="wmx12 mx-auto grid ai-center h100" role="menubar">
        <div class="-main grid--cell">
                <a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="left-sidebar-toggle p0 ai-center jc-center js-left-sidebar-toggle" role="menuitem" aria-haspopup="true" aria-controls="left-sidebar" aria-expanded="false"><span class="ps-relative"></span></a>
                <div class="topbar-dialog leftnav-dialog js-leftnav-dialog dno">
                    <div class="left-sidebar js-unpinned-left-sidebar" data-can-be="left-sidebar" data-is-here-when="sm"></div>
                </div>
                    <a href="https://stackoverflow.com/" class="-logo js-gps-track" data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">
                        <span class="-img _glyph">Stack Overflow</span>
                    </a>



        </div>

            <ol class="list-reset grid gs4" role="presentation">

                    <li class="grid--cell md:d-none">
                        <a href="https://stackoverflow.com/company" class="-marketing-link js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:7})" data-ga="[&quot;top navigation&quot;,&quot;about menu click&quot;,null,null,null]">About</a>
                    </li>

                <li class="grid--cell">
                    <a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-marketing-link js-gps-track js-products-menu" aria-controls="products-popover" data-controller="s-popover" data-action="s-popover#toggle" data-s-popover-placement="bottom" data-s-popover-toggle-class="is-selected" data-gps-track="top_nav.products.click({location:2, destination:1})" data-ga="[&quot;top navigation&quot;,&quot;products menu click&quot;,null,null,null]">
                        Products
                    </a>
                </li>

                    <li class="grid--cell md:d-none">
                        <a href="https://stackoverflow.com/teams" class="-marketing-link js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:7})" data-ga="[&quot;top navigation&quot;,&quot;learn more - teams&quot;,null,null,null]">For Teams</a>
                    </li>
            </ol>
            <div class="s-popover ws2 mtn2 p0" id="products-popover" role="menu" aria-hidden="true">
                <div class="s-popover--arrow"></div>
                <ol class="list-reset s-anchors s-anchors__inherit">
                    <li class="m6">
                        <a href="https://stackoverflow.com/questions" class="bar-sm p6 d-block h:bg-black-100 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:2})" data-ga="[&quot;top navigation&quot;,&quot;public qa submenu click&quot;,null,null,null]">
                            <span class="fs-body1 d-block">Stack Overflow</span>
                            <span class="fs-caption d-block fc-light">Public questions &amp; answers</span>
                        </a>
                    </li>
                    <li class="m6">
                        <a href="https://stackoverflow.com/teams" class="bar-sm p6 d-block h:bg-black-100 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:3})" data-ga="[&quot;top navigation&quot;,&quot;teams submenu click&quot;,null,null,null]">
                            <span class="fs-body1 d-block">Stack Overflow for Teams</span>
                            <span class="fs-caption d-block fc-light">Where developers &amp; technologists share private knowledge with coworkers</span>
                        </a>
                    </li>
                    <li class="m6">
                        <a href="https://stackoverflow.com/jobs?so_source=ProductsMenu&amp;so_medium=StackOverflow" class="bar-sm p6 d-block h:bg-black-100 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:9})" data-ga="[&quot;top navigation&quot;,&quot;jobs submenu click&quot;,null,null,null]">
                            <span class="fs-body1 d-block">Jobs</span>
                            <span class="fs-caption d-block fc-light">Programming &amp; related technical career opportunities</span>
                        </a>
                    </li>
                    <li class="m6">
                        <a href="https://stackoverflow.com/talent" class="bar-sm p6 d-block h:bg-black-100 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:5})" data-ga="[&quot;top navigation&quot;,&quot;talent submenu click&quot;,null,null,null]">
                            <span class="fs-body1 d-block">Talent</span>
                            <span class="fs-caption d-block fc-light">Recruit tech talent &amp; build your employer brand</span>
                        </a>
                    </li>
                    <li class="m6">
                        <a href="https://stackoverflow.com/advertising" class="bar-sm p6 d-block h:bg-black-100 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:6})" data-ga="[&quot;top navigation&quot;,&quot;advertising submenu click&quot;,null,null,null]">
                            <span class="fs-body1 d-block">Advertising</span>
                            <span class="fs-caption d-block fc-light">Reach developers &amp; technologists worldwide</span>
                        </a>
                    </li>
                    <li class="bg-black-025 bt bc-black-2 py6 px6 bbr-sm">
                        <a href="https://stackoverflow.com/company" class="fc-light d-block py6 px6 h:fc-black-800 js-gps-track" data-gps-track="top_nav.products.click({location:2, destination:7})" data-ga="[&quot;top navigation&quot;,&quot;about submenu click&quot;,null,null,null]">About the company</a>
                    </li>
                </ol>
            </div>

            <form id="search" role="search" action="https://stackoverflow.com/search" method="get" class="grid--cell fl-grow1 searchbar px12 js-searchbar " autocomplete="off">
                    <div class="ps-relative">
                        <input name="q" type="text" placeholder="Search…" value="" autocomplete="off" maxlength="240" class="s-input s-input__search js-search-field " aria-label="Search" aria-controls="top-search" data-controller="s-popover" data-action="focus-&gt;s-popover#show" data-s-popover-placement="bottom-start">
                        <svg aria-hidden="true" class="s-input-icon s-input-icon__search svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"></path></svg>
                        <div class="s-popover p0 wmx100 wmn4 sm:wmn-initial js-top-search-popover s-popover--arrow__tl" id="top-search" role="menu">
    <div class="js-spinner p24 grid ai-center jc-center d-none">
        <div class="s-spinner s-spinner__sm fc-orange-400">
            <div class="v-visible-sr">Loading…</div>
        </div>
    </div>

    <span class="v-visible-sr js-screen-reader-info"></span>
    <div class="js-ac-results overflow-y-auto hmx3 d-none"></div>

    <div class="js-search-hints" aria-describedby="Tips for searching"></div>
</div>
                    </div>
            </form>
        
        

<ol class="overflow-x-auto ml-auto -secondary grid ai-center list-reset h100 user-logged-out" role="presentation">
        <li class="-item searchbar-trigger"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link js-searchbar-trigger" role="button" aria-label="Search" aria-haspopup="true" aria-controls="search" title="Click to show search"><svg aria-hidden="true" class="svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"></path></svg></a></li>

            <li class="-ctas">
                            <a href="https://stackoverflow.com/users/login?ssrc=head&amp;returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f1008019%2fc-singleton-design-pattern" class="login-link s-btn s-btn__filled py8 js-gps-track" rel="nofollow" data-gps-track="login.click" data-ga="[&quot;top navigation&quot;,&quot;login button click&quot;,null,null,null]">Log in</a>
                            <a href="https://stackoverflow.com/users/signup?ssrc=head&amp;returnurl=%2fusers%2fstory%2fcurrent" class="login-link s-btn s-btn__primary py8" rel="nofollow" data-ga="[&quot;sign up&quot;,&quot;Sign Up Navigation&quot;,&quot;Header&quot;,null,null]">Sign up</a>

            </li>

    <li class="js-topbar-dialog-corral" role="presentation">
            

    <div class="topbar-dialog siteSwitcher-dialog dno" role="menu">
        <div class="header">
            <h3>
                <a href="https://stackoverflow.com/">current community</a>
            </h3>
        </div>
        <div class="modal-content bg-powder-050">
            <ul class="current-site">
                    <li class="grid">
                            <div class="fl1">
                <a href="https://stackoverflow.com/" class="current-site-link site-link js-gps-track grid gs8 gsx" data-id="1" data-gps-track="site_switcher.click({ item_type:3 })">
        <div class="favicon favicon-stackoverflow site-icon grid--cell" title="Stack Overflow"></div>
        <span class="grid--cell fl1">
            Stack Overflow
        </span>
    </a>

    </div>
    <div class="related-links">
            <a href="https://stackoverflow.com/help" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:14 })">help</a>
            <a href="https://chat.stackoverflow.com/" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:6 })">chat</a>
    </div>

                    </li>
                    <li class="related-site grid">
                            <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                            <a href="https://meta.stackoverflow.com/" class=" site-link js-gps-track grid gs8 gsx" data-id="552" data-gps-track="site.switch({ target_site:552, item_type:3 }),site_switcher.click({ item_type:4 })">
        <div class="favicon favicon-stackoverflowmeta site-icon grid--cell" title="Meta Stack Overflow"></div>
        <span class="grid--cell fl1">
            Meta Stack Overflow
        </span>
    </a>

                    </li>
            </ul>
        </div>

        <div class="header" id="your-communities-header">
            <h3>
your communities            </h3>

        </div>
        <div class="modal-content" id="your-communities-section">

                <div class="call-to-login">
<a href="https://stackoverflow.com/users/signup?ssrc=site_switcher&amp;returnurl=%2fusers%2fstory%2fcurrent" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:10 })">Sign up</a> or <a href="https://stackoverflow.com/users/login?ssrc=site_switcher&amp;returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f1008019%2fc-singleton-design-pattern" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:11 })">log in</a> to customize your list.                </div>
        </div>

        <div class="header">
            <h3><a href="https://stackexchange.com/sites">more stack exchange communities</a>
            </h3>
            <a href="https://stackoverflow.blog/" class="fr">company blog</a>
        </div>
        <div class="modal-content">
                <div class="child-content"></div>
        </div>        
    </div>

    </li>
</ol>
    </div>
</header>
    <div id="js-gdpr-consent-banner" class="p8 ff-sans ps-fixed b0 l0 r0 z-banner" role="banner" aria-hidden="false" style="background-color: #3b4045; color: white;"> 
        <div class="wmx8 mx-auto grid grid__center" role="alertdialog" aria-describedby="notice-message">
            <div class="grid--cell mr12" aria-label="notice-message">
                <p class="mb0 lh-lg">
                    By using our site, you acknowledge that you have read and understand our <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/cookie-policy">Cookie Policy</a>, <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/privacy-policy">Privacy Policy</a>, and our <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/terms-of-service/public">Terms of Service</a>.
                </p>
            </div>
            <div class="grid--cell">
                <a class="s-btn s-btn__muted s-btn__icon js-notice-close" aria-label="notice-dismiss">
                    <svg aria-hidden="true" class="svg-icon iconClear" width="18" height="18" viewBox="0 0 18 18"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9 15 4.41z"></path></svg>
                </a>
            </div>
        </div>
    </div>

    <script>
        StackExchange.ready(function () { StackExchange.topbar.init(); });
StackExchange.scrollPadding.setPaddingTop(50, 10);    </script>





    <div class="container">
            

<div id="left-sidebar" data-is-here-when="md lg" class="left-sidebar js-pinned-left-sidebar ps-relative">
    <div class="left-sidebar--sticky-container js-sticky-leftnav">
        <nav role="navigation">
            <ol class="nav-links">
        <li class="">
            <a href="https://stackoverflow.com/" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">
Home            </a>
        </li>
                <li>
                    <ol class="nav-links">
                            <li class="fs-fine tt-uppercase ml8 mt16 mb4 fc-light">Public</li>
                                <li class=" youarehere">
            <a id="nav-questions" href="https://stackoverflow.com/questions" class="pl8 js-gps-track nav-links--link -link__with-icon" data-gps-track="top_nav.click({is_current:true, location:2, destination:1})">
<svg aria-hidden="true" class="svg-icon iconGlobe" width="18" height="18" viewBox="0 0 18 18"><path d="M9 1a8 8 0 100 16A8 8 0 009 1zM8 15.32a6.4 6.4 0 01-5.23-7.75L7 11.68v.8c0 .88.12 1.32 1 1.32v1.52zm5.72-2c-.2-.66-1-1.32-1.72-1.32h-1v-2c0-.44-.56-1-1-1H6V7h1c.44 0 1-.56 1-1V5h2c.88 0 1.4-.72 1.4-1.6v-.33a6.4 6.4 0 012.32 10.24v.01z"></path></svg>                    <span class="-link--channel-name">Stack Overflow</span>
            </a>
        </li>

        <li class="">
            <a id="nav-tags" href="https://stackoverflow.com/tags" class=" js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:2})">
Tags            </a>
        </li>
        <li class="">
            <a id="nav-users" href="https://stackoverflow.com/users" class=" js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:3})">
Users            </a>
        </li>
                            <li class="fs-fine tt-uppercase ml8 mt16 mb4 fc-light">Find a Job</li>
        <li class="">
            <a id="nav-jobs" href="https://stackoverflow.com/jobs?so_medium=StackOverflow&amp;so_source=SiteNav" class=" js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:6})">
Jobs            </a>
        </li>
        <li class="">
            <a id="nav-companies" href="https://stackoverflow.com/jobs/companies?so_medium=StackOverflow&amp;so_source=SiteNav" class=" js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:12})">
Companies            </a>
        </li>
                    </ol>
                </li>
                    <li>
                        <ol class="nav-links">
                                <li class="grid ai-center jc-space-between ml8 mt24 mb4">
                                    <div class="grid--cell tt-uppercase fs-fine fc-light">Teams</div>
                                    <div class="grid--cell fs-fine fc-light mr4">
                                        <a href="javascript:void(0)" class="s-link s-link__inherit js-gps-track" role="button" aria-controls="popover-teams-create-cta" data-controller="s-popover" data-action="s-popover#toggle" data-s-popover-placement="bottom-start" data-s-popover-toggle-class="is-selected" data-gps-track="teams.create.left-sidenav.click({ Action: ShowInfo })" data-ga="[&quot;teams left navigation - anonymous&quot;,&quot;left nav show teams info&quot;,null,null,null]">
                                            What’s this?
                                        </a>

                                    </div>
                                </li>
                                <li class="ps-relative">
                                    <a href="https://stackoverflow.com/teams" class="pl8 js-gps-track nav-links--link" title="Stack Overflow for Teams is a private, secure spot for your organization&#39;s questions and answers." data-gps-track="teams.create.left-sidenav.click({ Action: TeamsClick })" data-ga="[&quot;teams left navigation - anonymous&quot;,&quot;left nav team click&quot;,&quot;stackoverflow.com/teams&quot;,null,null]">
                                        <div class="grid ai-center">
                                            <div class="grid--cell s-avatar va-middle bg-orange-400">
                                                <div class="s-avatar--letter mtn1">
                                                    <svg aria-hidden="true" class="svg-icon iconBriefcaseSm" width="14" height="14" viewBox="0 0 14 14"><path d="M4 3a1 1 0 011-1h4a1 1 0 011 1v1h.5c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5h-7A1.5 1.5 0 012 10.5v-5C2 4.67 2.67 4 3.5 4H4V3zm5 1V3H5v1h4z"></path></svg>
                                                </div>
                                                <svg aria-hidden="true" class="native s-avatar--badge svg-icon iconShieldXSm" width="9" height="10" viewBox="0 0 9 10"><path d="M0 1.84L4.5 0 9 1.84v3.17C9 7.53 6.3 10 4.5 10 2.7 10 0 7.53 0 5.01V1.84z" fill="var(--white)"></path><path d="M1 2.5L4.5 1 8 2.5v2.51C8 7.34 5.34 9 4.5 9 3.65 9 1 7.34 1 5.01V2.5zm2.98 3.02L3.2 7h2.6l-.78-1.48a.4.4 0 01.15-.38c.34-.24.73-.7.73-1.14 0-.71-.5-1.23-1.41-1.23-.92 0-1.39.52-1.39 1.23 0 .44.4.9.73 1.14.12.08.18.23.15.38z" fill="var(--black-500)"></path></svg>
                                            </div>
                                            <div class="grid--cell pl6">
Free 30 Day Trial                                            </div>
                                        </div>
                                    </a>
                                </li>
                        </ol>
                    </li>
            </ol>
        </nav>
    </div>


        <div class="s-popover w-auto p16" id="popover-teams-create-cta" role="menu" aria-hidden="true">
            <div class="s-popover--arrow"></div>

            <div class="ps-relative overflow-hidden">
                <p class="mb2"><strong>Teams</strong></p>
                <p class="mb16 fs-caption fc-medium">Q&amp;A for Work</p>
                <p class="mb8 fs-caption fc-medium">

                            Stack Overflow for Teams is a private, secure spot for you and
                            your coworkers to find and share information.
                                        </p>
                <a href="https://stackoverflow.com/teams" class="js-gps-track ws-nowrap d-block" data-gps-track="teams.create.left-sidenav.click({ Action: CtaClick })" data-ga="[&quot;teams left navigation - anonymous&quot;,&quot;left nav cta&quot;,&quot;stackoverflow.com/teams&quot;,null,null]">
Learn more                </a>
            </div>

            <div class="ps-absolute t8 r8">
                <svg width="53" height="49" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M49 11l.2 31H18.9L9 49v-7H4V8h31" fill="#CCEAFF"></path><path d="M44.5 19v-.3l-.2-.1-18-13-.1-.1H.5v33h4V46l.8-.6 9.9-6.9h29.3V19z" stroke="#1060E1" stroke-miterlimit="10"></path><path d="M31 2l6-1.5 7 2V38H14.9L5 45v-7H1V6h25l5-4z" fill="#fff"></path><path d="M7 16.5h13m-13 6h14m-14 6h18" stroke="#1060E1" stroke-miterlimit="10"></path><path d="M39 30a14 14 0 1 0 0-28 14 14 0 0 0 0 28z" fill="#FFB935"></path><path d="M50.5 14a13.5 13.5 0 1 1-27 0 13.5 13.5 0 0 1 27 0z" stroke="#F48024" stroke-miterlimit="10"></path><path d="M32.5 21.5v-8h9v8h-9zm2-9.5V9.3A2.5 2.5 0 0 1 37 6.8a2.5 2.5 0 0 1 2.5 2.5V12h-5zm2 3v2m1-2v2" stroke="#fff" stroke-miterlimit="10"></path></svg>
            </div>
        </div>

</div>



        <div id="content" class="snippet-hidden">

            
<div itemprop="mainEntity" itemscope="" itemtype="http://schema.org/Question">
    <link itemprop="image" href="https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a">

    <div class="inner-content clearfix">

        

            <div id="question-header" class="grid sm:fd-column">
                        <h1 itemprop="name" class="grid--cell fs-headline1 fl1 ow-break-word mb8"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern" class="question-hyperlink">C++ Singleton design pattern</a></h1>

                <div class="ml12 aside-cta grid--cell print:d-none sm:ml0 sm:mb12 sm:order-first sm:as-end">
                    
    <a href="https://stackoverflow.com/questions/ask" class="ws-nowrap s-btn s-btn__primary">
        Ask Question
    </a>

                </div>
            </div>
            <div class="grid fw-wrap pb8 mb16 bb bc-black-2">
                    <div class="grid--cell ws-nowrap mr16 mb8" title="2009-06-17 16:02:22Z">
                        <span class="fc-light mr2">Asked</span>
                        <time itemprop="dateCreated" datetime="2009-06-17T16:02:22">11 years, 2 months ago</time>
                    </div>
                        <div class="grid--cell ws-nowrap mr16 mb8">
                            <span class="fc-light mr2">Active</span>
                            <a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern?lastactivity" class="s-link s-link__inherit" title="2020-08-05 15:37:51Z">22 days ago</a>
                        </div>
                    <div class="grid--cell ws-nowrap mb8" title="Viewed 703,113 times">
                        <span class="fc-light mr2">Viewed</span>
                        703k times
                    </div>
            </div>
            <div id="mainbar" role="main" aria-label="question and answers">

                
<div class="question" data-questionid="1008019" id="question">
    <style>
    </style>
<div class="js-zone-container zone-container-main">
    <div id="dfp-tlb" class="everyonelovesstackoverflow everyoneloves__top-leaderboard everyoneloves__leaderboard" data-dfp-zone="true" data-google-query-id="CNmL38GnvesCFQ96vQodT_MA7w" data-clc-ready="true" style="min-height: auto; height: auto; display: none;"><div id="google_ads_iframe_/248424177/stackoverflow.com/lb/question-pages_0__container__" style="border: 0pt none; width: 728px; height: auto; min-height: auto; display: none;"></div></div>
    <div class="js-report-ad-button-container " style="width: 300px"></div>
</div>

    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008019">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-x8kbt6kf"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-x8kbt6kf" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This question shows research effort; it is useful and clear<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="748">748</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-d75xp1yi"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-d75xp1yi" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This question does not show any research effort; it is unclear or not useful<div class="s-popover--arrow"></div></div>

        <button class="js-bookmark-btn s-btn s-btn__unset c-pointer py4 js-gps-track" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Bookmark (594)" data-selected-classes="fc-yellow-600" data-gps-track="post.click({ item: 1, priv: 0, post_type: 1 })" aria-describedby="--stacks-s-tooltip-kfxrd7e8">
            <svg aria-hidden="true" class="svg-icon iconBookmark" width="18" height="18" viewBox="0 0 18 18"><path d="M6 1a2 2 0 00-2 2v14l5-4 5 4V3a2 2 0 00-2-2H6zm3.9 3.83h2.9l-2.35 1.7.9 2.77L9 7.59l-2.35 1.7.9-2.76-2.35-1.7h2.9L9 2.06l.9 2.77z"></path></svg>
            <div class="js-bookmark-count mt4" data-value="594">594</div>
        </button><div id="--stacks-s-tooltip-kfxrd7e8" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Bookmark this question.<div class="s-popover--arrow"></div></div>
    

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008019/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-qm3ed21j"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-qm3ed21j" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="postcell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
                    
<p>Recently I've bumped into a realization/implementation of the Singleton design pattern for C++. It has looked like this (I have adopted it from the real life example):</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">// a lot of methods are omitted here</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
       </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> getInstance</span><span class="pun">(</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
       </span><span class="pun">~</span><span class="typ">Singleton</span><span class="pun">(</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
   </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
       </span><span class="typ">Singleton</span><span class="pun">(</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
       </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>From this declaration I can deduce that the instance field is initiated on the heap. That means there is a memory allocation. What is completely unclear for me is when exactly the memory is going to be deallocated? Or is there a bug and memory leak? It seems like there is a problem in the implementation.</p>

<p>My main question is, how do I implement it in the right way?</p>
    </div>

        <div class="post-taglist grid gs4 gsy fd-column">
            <div class="grid ps-relative d-block">
                <a href="https://stackoverflow.com/questions/tagged/c%2b%2b" class="post-tag js-gps-track" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="https://stackoverflow.com/questions/tagged/design-patterns" class="post-tag js-gps-track" title="show questions tagged &#39;design-patterns&#39;" rel="tag">design-patterns</a> <a href="https://stackoverflow.com/questions/tagged/singleton" class="post-tag js-gps-track" title="show questions tagged &#39;singleton&#39;" rel="tag">singleton</a> 
            </div>
        </div>

    <div class="mb0 ">
        <div class="mt16 grid gs8 gsy fw-wrap jc-end ai-start pt4">
            <div class="grid--cell mr16" style="flex: 1 1 100px;">
                

<div class="post-menu">
    <a href="https://stackoverflow.com/q/1008019" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this question" data-gps-track="post.click({ item: 2, priv: 0, post_type: 1 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this question" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="question" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="1" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-0" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-0"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this question</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008019/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 1 })" title="">improve this question</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008019" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-question js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 1 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-xeth58nd">
        follow
    </button><div id="--stacks-s-tooltip-xeth58nd" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this question to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

            </div>

                <div class="post-signature grid--cell">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/1008019/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 1 })">edited <span title="2012-10-31 10:58:24Z" class="relativetime">Oct 31 '12 at 10:58</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/255718/fruitbreak"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/06b9aedb2f68cb782fe4c38d323377fb" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/255718/fruitbreak">FruitBreak</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">560</span><span title="1 gold badge" aria-hidden="true"><span class="badge1"></span><span class="badgecount">1</span></span><span class="v-visible-sr">1 gold badge</span><span title="7 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">7</span></span><span class="v-visible-sr">7 silver badges</span><span title="17 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">17</span></span><span class="v-visible-sr">17 bronze badges</span>
        </div>
    </div>
</div>                </div>
            <div class="post-signature owner grid--cell">
                <div class="user-info user-hover">
    <div class="user-action-time">
        asked <span title="2009-06-17 16:02:22Z" class="relativetime">Jun 17 '09 at 16:02</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/104014/artem-barger"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/3d186f3c6ad2de59b356c1cfad9af404" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/104014/artem-barger">Artem Barger</a><span class="d-none" itemprop="name">Artem Barger</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 37,654" dir="ltr">37.7k</span><span title="9 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">9</span></span><span class="v-visible-sr">9 gold badges</span><span title="52 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">52</span></span><span class="v-visible-sr">52 silver badges</span><span title="78 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">78</span></span><span class="v-visible-sr">78 bronze badges</span>
        </div>
    </div>
</div>

            </div>
        </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008019" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008019" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="9" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-817083" class="comment js-comment " data-comment-id="817083">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="hot">15</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">See also: <a href="http://stackoverflow.com/questions/211237/c-static-variables-initialisation-order/211307#211307" title="c static variables initialisation order">stackoverflow.com/questions/211237/…</a> and <a href="http://stackoverflow.com/questions/270947/can-any-one-provide-me-a-sample-of-singleton-in-c/271104#271104" title="can any one provide me a sample of singleton in c">stackoverflow.com/questions/270947/…</a>  and <a href="http://stackoverflow.com/questions/246564/what-is-the-lifetime-of-a-static-variable-in-a-c-function" title="what is the lifetime of a static variable in a c function">stackoverflow.com/questions/246564/…</a> and <a href="http://stackoverflow.com/questions/449436/singleton-instance-declared-as-static-variable-of-getinstance-method/449823#449823" title="singleton instance declared as static variable of getinstance method">stackoverflow.com/questions/449436/…</a> and <a href="http://stackoverflow.com/questions/335369/finding-c-static-initialization-order-problems/335746#335746" title="finding c static initialization order problems">stackoverflow.com/questions/335369/…</a></span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment817083_1008019"><span title="2009-06-17 16:43:53Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:43</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-1520033" class="comment js-comment " data-comment-id="1520033">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">10</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">You'll find a great discussion of how to implement a singleton, along with thread-safety in C++ in this paper.  <a href="http://www.aristeia.com/Papers/DDJ_Jul_Aug_2004_revised.pdf" rel="nofollow noreferrer">aristeia.com/Papers/DDJ%5FJul%5FAug%5F2004%5Frevised.pdf</a></span>
                
–&nbsp;<span class="comment-user">Matthieu N.</span>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment1520033_1008019"><span title="2009-10-30 11:34:07Z, License: CC BY-SA 2.5" class="relativetime-clean">Oct 30 '09 at 11:34</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-8166124" class="comment js-comment " data-comment-id="8166124">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="supernova">108</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@sbi - Only a Sith deals in absolutes. Can the vast majority of problems be solved without Singletons? Absolutely. Do Singletons cause problems of their own?  Yes. However, I can't honestly say that they're <b>bad</b>, since design is all about considering the tradeoffs and understanding the nuances of your approach.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/247763/derekerdmann" title="15,739 reputation" class="comment-user">derekerdmann</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment8166124_1008019"><span title="2011-07-28 20:10:09Z, License: CC BY-SA 3.0" class="relativetime-clean">Jul 28 '11 at 20:10</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-8178011" class="comment js-comment " data-comment-id="8178011">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">11</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@derekerdmann: I didn't say you never need a global variable (and when you need one, a Singleton <i>sometimes</i> is better). What I said is that they should be used as little as possible. Glorifying Singleton as a valuable design pattern gives the impression it's good to use it, rather than that it is a <i>hack</i>, making code hard to understand, hard to maintain, and hard to test. This is why I posted my comment. None of what you said so far contradicted this.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/140719/sbi" title="197,162 reputation" class="comment-user">sbi</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment8178011_1008019"><span title="2011-07-29 13:26:12Z, License: CC BY-SA 3.0" class="relativetime-clean">Jul 29 '11 at 13:26</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-9502886" class="comment js-comment " data-comment-id="9502886">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">13</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@sbi: What you said was "Don't use them." Not the much more reasonable "they should be used as little as possible" you later changed to - surely you see the difference.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/567650/jwd" title="9,389 reputation" class="comment-user">jwd</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment9502886_1008019"><span title="2011-10-17 22:21:32Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 17 '11 at 22:21</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008019" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link dno" title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button"></a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button">show <b>9</b> more comments</a>
        </div>         
    </div>
    </div>
</div>


<div class="js-zone-container zone-container-responsive">
    <div id="dfp-isb" class="everyonelovesstackoverflow everyoneloves__inline-sidebar mx-auto" style="min-height: auto; height: auto; display: none;"></div>
    <div class="js-report-ad-button-container mx-auto" style="width: 300px"></div>
</div>

                <div id="answers">

                    <a name="tab-top"></a>
                    <div id="answers-header">
                        <div class="answers-subheader grid ai-center mb8">
                            <div class="grid--cell fl1">
                                <h2 class="mb0" data-answercount="22">
                                        22 Answers
                                    <span style="display:none;" itemprop="answerCount">22</span>
                                </h2>
                            </div>
                            <div class="grid--cell">
                                <div class=" grid s-btn-group js-filter-btn">
        <a class="grid--cell s-btn s-btn__muted s-btn__outlined" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            Active</a>
        <a class="grid--cell s-btn s-btn__muted s-btn__outlined" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            Oldest</a>
        <a class="youarehere is-selected grid--cell s-btn s-btn__muted s-btn__outlined" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            Votes</a>
</div>

                            </div>
                        </div>
                            
                    </div>


                                          
<a name="1008289"></a>
<div id="answer-1008289" class="answer accepted-answer" data-answerid="1008289" itemprop="acceptedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008289">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-5t5s8bff"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-5t5s8bff" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="1137">1137</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-w4mh3gks"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-w4mh3gks" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008289/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-fb2bfl4m"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-fb2bfl4m" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>In 2008 I provided a C++98 implementation of the Singleton design pattern that is lazy-evaluated, guaranteed-destruction, not-technically-thread-safe:<br>
<a href="https://stackoverflow.com/questions/270947/can-any-one-provide-me-a-sample-of-singleton-in-c/271104#271104">Can any one provide me a sample of Singleton in c++?</a>  </p>

<p>Here is an updated C++11 implementation of the Singleton design pattern that is lazy-evaluated, correctly-destroyed, and <a href="https://stackoverflow.com/a/449823/52074">thread-safe</a>.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> S
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> S</span><span class="pun">&amp;</span><span class="pln"> getInstance</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">static</span><span class="pln"> S    instance</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Guaranteed to be destroyed.</span><span class="pln">
                                  </span><span class="com">// Instantiated on first use.</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
        S</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">                    </span><span class="com">// Constructor? (the {} brackets) are needed here.</span><span class="pln">

        </span><span class="com">// C++ 03</span><span class="pln">
        </span><span class="com">// ========</span><span class="pln">
        </span><span class="com">// Don't forget to declare these two. You want to make sure they</span><span class="pln">
        </span><span class="com">// are inaccessible(especially from outside), otherwise, you may accidentally get copies of</span><span class="pln">
        </span><span class="com">// your singleton appearing.</span><span class="pln">
        S</span><span class="pun">(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;);</span><span class="pln">              </span><span class="com">// Don't Implement</span><span class="pln">
        </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;);</span><span class="pln"> </span><span class="com">// Don't implement</span><span class="pln">

        </span><span class="com">// C++ 11</span><span class="pln">
        </span><span class="com">// =======</span><span class="pln">
        </span><span class="com">// We can use the better technique of deleting the methods</span><span class="pln">
        </span><span class="com">// we don't want.</span><span class="pln">
    </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
        S</span><span class="pun">(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;)</span><span class="pln">               </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;)</span><span class="pln">  </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

        </span><span class="com">// Note: Scott Meyers mentions in his Effective Modern</span><span class="pln">
        </span><span class="com">//       C++ book, that deleted functions should generally</span><span class="pln">
        </span><span class="com">//       be public as it results in better error messages</span><span class="pln">
        </span><span class="com">//       due to the compilers behavior to check accessibility</span><span class="pln">
        </span><span class="com">//       before deleted status</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>See this article about when to use a singleton: (not often)<br>
<a href="https://stackoverflow.com/questions/86582/singleton-how-should-it-be-used">Singleton: How should it be used</a></p>

<p>See this two article about initialization order and how to cope:<br>
<a href="https://stackoverflow.com/questions/211237/c-static-variables-initialisation-order/211307#211307">Static variables initialisation order</a><br>
<a href="https://stackoverflow.com/questions/335369/finding-c-static-initialization-order-problems/335746#335746">Finding C++ static initialization order problems</a>  </p>

<p>See this article describing lifetimes:<br>
<a href="https://stackoverflow.com/questions/246564/what-is-the-lifetime-of-a-static-variable-in-a-c-function">What is the lifetime of a static variable in a C++ function?</a>  </p>

<p>See this article that discusses some threading implications to singletons:<br>
<a href="https://stackoverflow.com/questions/449436/singleton-instance-declared-as-static-variable-of-getinstance-method/449823#449823">Singleton instance declared as static variable of GetInstance method, is it thread-safe?</a></p>

<p>See this article that explains why double checked locking will not work on C++:<br>
<a href="https://stackoverflow.com/questions/367633/what-are-all-the-common-undefined-behaviour-that-c-programmer-should-know-about/367690#367690">What are all the common undefined behaviours that a C++ programmer should know about?</a><br>
<a href="http://www.drdobbs.com/cpp/c-and-the-perils-of-double-checked-locki/184405726" rel="noreferrer">Dr Dobbs: C++ and The Perils of Double-Checked Locking: Part I</a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-17T16:49:58"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1008289" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-1" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em; margin: 0px;" id="se-share-sheet-1"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"><button class="s-btn p4" role="button" title="Share link to this answer on Facebook" aria-label="Share on Facebook"><svg class="native svg-icon iconFacebook" aria-hidden="true" width="18" height="18" viewBox="0 0 18 18"><path d="M3 1a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V3a2 2 0 00-2-2H3zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5z" fill="#4167B2"></path></svg></button><button class="s-btn p4" role="button" title="Share link to this answer on Twitter" aria-label="Share on Twitter"><svg class="native svg-icon iconTwitter" aria-hidden="true" width="18" height="18" viewBox="0 0 18 18"><path d="M17 4.04c-.59.26-1.22.44-1.88.52a3.3 3.3 0 001.44-1.82c-.64.37-1.34.64-2.09.79a3.28 3.28 0 00-5.6 2.99A9.3 9.3 0 012.12 3.1a3.28 3.28 0 001.02 4.38 3.28 3.28 0 01-1.49-.4v.03a3.29 3.29 0 002.64 3.22 3.34 3.34 0 01-1.48.06 3.29 3.29 0 003.07 2.28 6.58 6.58 0 01-4.85 1.36 9.33 9.33 0 005.04 1.47c6.04 0 9.34-5 9.34-9.33v-.42a6.63 6.63 0 001.63-1.7L17 4.04z" fill="#2AA3EF"></path></svg></button><button class="s-btn p4" role="button" title="Share link to this answer on DEV" aria-label="Share on DEV"><svg class="native svg-icon iconDevTo" aria-hidden="true" width="18" height="18" viewBox="0 0 18 18"><path d="M15 1a2 2 0 012 2v12a2 2 0 01-2 2H3a2 2 0 01-2-2V3c0-1.1.9-2 2-2h12zm-3 5.02h-1.18l1.4 5.24c.36.86 1.16 1.1 1.65.13l.06-.13 1.39-5.24h-1.18l-1.07 4.12L12 6.02zm-1.96 0H7.75a.72.72 0 00-.7.65l-.01.1v4.53c0 .37.29.67.65.7l.1.01h2.25v-1.07H8.1V9.26h1.18V8.19H8.1v-1.1h1.93V6.02zm-5.32 0H3v5.99h1.68c1.33 0 1.75-1.03 1.75-1.71V7.73c0-.68-.43-1.71-1.71-1.71zm.06 1.12a.7.7 0 01.42.16c.14.1.21.26.21.47v2.52c0 .21-.07.37-.2.47a.7.7 0 01-.43.16h-.63V7.14h.63z" fill="#010101"></path></svg></button></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008289/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008289" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-j7nwtpi3">
        follow
    </button><div id="--stacks-s-tooltip-j7nwtpi3" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/1008289/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2020-06-19 19:47:02Z" class="relativetime">Jun 19 at 19:47</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/10514096/spongebob"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/5952c57e55dec411820e947828d0baa7" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/10514096/spongebob">SpongeBob</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">131</span><span title="8 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">8</span></span><span class="v-visible-sr">8 bronze badges</span>
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2009-06-17 16:49:58Z" class="relativetime">Jun 17 '09 at 16:49</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/14065/martin-york"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/e1475012bb1630271c9165899bccd548.png" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/14065/martin-york">Martin York</a><span class="d-none" itemprop="name">Martin York</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 225,097" dir="ltr">225k</span><span title="71 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">71</span></span><span class="v-visible-sr">71 gold badges</span><span title="300 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">300</span></span><span class="v-visible-sr">300 silver badges</span><span title="519 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">519</span></span><span class="v-visible-sr">519 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008289" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008289" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="71" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-1873833" class="comment js-comment " data-comment-id="1873833">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="hot">25</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Good answer. But should note that this is not thread-safe <a href="http://stackoverflow.com/questions/1661529/is-meyers-implementation-of-singleton-pattern-thread-safe" title="is meyers implementation of singleton pattern thread safe">stackoverflow.com/questions/1661529/…</a></span>
                
–&nbsp;<a href="https://stackoverflow.com/users/199987/varuna" title="1,138 reputation" class="comment-user">Varuna</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment1873833_1008289"><span title="2009-12-25 08:28:22Z, License: CC BY-SA 2.5" class="relativetime-clean">Dec 25 '09 at 8:28</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-19602292" class="comment js-comment " data-comment-id="19602292">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">4</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@zourtney: Many people don't realize what you just did :)</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/6345/johann-gerell" title="22,816 reputation" class="comment-user">Johann Gerell</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment19602292_1008289"><span title="2013-01-04 07:06:18Z, License: CC BY-SA 3.0" class="relativetime-clean">Jan 4 '13 at 7:06</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-23963366" class="comment js-comment " data-comment-id="23963366">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">4</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@MaximYegorushkin: When this is destroyed is <b>very well defined</b> (there is no ambiguity). See: <a href="http://stackoverflow.com/questions/246564/what-is-the-lifetime-of-a-static-variable-in-a-c-function" title="what is the lifetime of a static variable in a c function">stackoverflow.com/questions/246564/…</a></span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment23963366_1008289"><span title="2013-05-20 20:39:48Z, License: CC BY-SA 3.0" class="relativetime-clean">May 20 '13 at 20:39</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-23966747" class="comment js-comment " data-comment-id="23966747">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy"><code>What irks me most though is the run-time check of the hidden boolean in getInstance()</code> That is an assumption on implementation technique. There need be no assumptions about it being alive. see <a href="http://stackoverflow.com/a/335746/14065">stackoverflow.com/a/335746/14065</a> You can force a situation so that it is always alive (less overhead than <code>Schwarz counter</code>). Global variables have more issues with initialization order (across compilation units) as you not force an order. The advantage of this model is  1) lazy initialization. 2) Ability to enforce an order (Schwarz helps but is uglier). Yep <code>get_instance()</code> is much uglier.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment23966747_1008289"><span title="2013-05-20 23:07:14Z, License: CC BY-SA 3.0" class="relativetime-clean">May 20 '13 at 23:07</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-41319261" class="comment js-comment " data-comment-id="41319261">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@kol: No. It is not the usual one. Just because beginners copy and paste code without thinking does not make it the usual one. You should always look at the use case and make sure the assignment operator does what is expected. Copy and pasting code is going to lead you into errors.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment41319261_1008289"><span title="2014-10-12 16:57:54Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 12 '14 at 16:57</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008289" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button"></a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button">show <b>71</b> more comments</a>
        </div>         
    </div>
    </div>
</div>

<div class="js-zone-container zone-container-main">
    <div id="dfp-mlb" class="everyonelovesstackoverflow everyoneloves__mid-leaderboard everyoneloves__leaderboard" data-clc-prefilled="true" data-google-query-id="CPGC38GnvesCFQoZvQodNtcGmw" data-clc-ready="true" style="min-height: auto; height: auto; display: none;"><div id="google_ads_iframe_/248424177/stackoverflow.com/mlb/question-pages_0__container__" style="border: 0pt none; width: 728px; height: auto; min-height: auto; display: none;"></div></div>
    <div class="js-report-ad-button-container " style="width: 300px"></div>
</div>
                                          
<a name="1008050"></a>
<div id="answer-1008050" class="answer" data-answerid="1008050" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008050">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-zj3u4j1g"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-zj3u4j1g" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="48">48</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-wv7pv07y"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-wv7pv07y" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008050/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-b9vgbx9j"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-b9vgbx9j" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Being a Singleton, you usually do not want it to be destructed.</p>

<p>It will get torn down and deallocated when the program terminates, which is the normal, desired behavior for a singleton.  If you want to be able to explicitly clean it, it's fairly easy to add a static method to the class that allows you to restore it to a clean state, and have it reallocate next time it's used, but that's outside of the scope of a "classic" singleton.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-17T16:06:12"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1008050" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f2.5%2f" data-se-share-sheet-license-name="CC BY-SA 2.5" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-2" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-2"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/2.5/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 2.5">CC BY-SA 2.5</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008050/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008050" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-18fqw6l7">
        follow
    </button><div id="--stacks-s-tooltip-18fqw6l7" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2009-06-17 16:06:12Z" class="relativetime">Jun 17 '09 at 16:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/65358/reed-copsey"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/87b3a4c585e6fd2ad5308e15e12bdc36.jpeg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/65358/reed-copsey">Reed Copsey</a><span class="d-none" itemprop="name">Reed Copsey</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 507,371" dir="ltr">507k</span><span title="68 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">68</span></span><span class="v-visible-sr">68 gold badges</span><span title="1060 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">1060</span></span><span class="v-visible-sr">1060 silver badges</span><span title="1321 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">1321</span></span><span class="v-visible-sr">1321 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008050" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008050" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="10" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-816901" class="comment js-comment " data-comment-id="816901">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">7</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">It's not a memory leak anymore than a simple declaration of a global variable.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/115200/ilya-n" title="16,002 reputation" class="comment-user">ilya n.</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816901_1008050"><span title="2009-06-17 16:14:08Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:14</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-816949" class="comment js-comment " data-comment-id="816949">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="hot">16</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">To set something straight... "memory leak" concerns vis-a-vis singletons are completely irrelevent. If you have stateful resources in which deconstruction order matters, singletons can be dangerous; but all of the memory is cleanly regained by the operating system on program termination... nullifying this totally academic point in 99.9% of cases.  If you want to argue the grammar back and forth of what is and is not a "memory leak", that's fine, but realize that it's a distraction from actual design decisions.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/118150/jkerian" title="14,488 reputation" class="comment-user">jkerian</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816949_1008050"><span title="2009-06-17 16:21:42Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:21</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-817030" class="comment js-comment " data-comment-id="817030">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">12</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@jkerian: Memory leaks and destruction in the C++ context is not really about the memory leaking. Really it is about resource control. If you leak memory the destroctor is not called and thus any resources associated with the object are not correctly released. Memory is just the simple example we use when teaching programming but there are much more complex resources out there.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment817030_1008050"><span title="2009-06-17 16:34:46Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:34</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-817130" class="comment js-comment " data-comment-id="817130">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">7</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">@Martin I agree with you completely.  Even if the only resource is memory, you will still get into trouble trying to find REAL leaks in your program if you have to wade through a list of leaks, filtering out ones that "don't matter."  It is better to clean these all up so any tool that reports leaks only reports things that ARE a problem.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/110672/dolphin" title="4,412 reputation" class="comment-user">Dolphin</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment817130_1008050"><span title="2009-06-17 16:53:30Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:53</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-31848580" class="comment js-comment " data-comment-id="31848580">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">5</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">It's vaguely worth considering that there exist C++ implementations (potentially even hosted ones) in which the "OS" <i>does not</i> recover all resources when your program exits, but which do have some concept of "running your program again" which gives you a fresh set of globals and static locals. On such systems an unfreed singleton is a genuine leak by any sensible definition: if your program is run enough times it will take down the system. Whether you care about portability to such systems is another matter -- as long as you aren't writing a library you almost certainly don't.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/13005/steve-jessop" title="250,218 reputation" class="comment-user">Steve Jessop</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment31848580_1008050"><span title="2014-01-16 10:04:38Z, License: CC BY-SA 3.0" class="relativetime-clean">Jan 16 '14 at 10:04</span></a></span>
                        <span title="this comment was edited 3 times">
                            <svg aria-hidden="true" class="va-text-bottom o50 svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>
                        </span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008050" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button"></a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button">show <b>10</b> more comments</a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="1008086"></a>
<div id="answer-1008086" class="answer" data-answerid="1008086" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008086">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-bmlqoyhd"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-bmlqoyhd" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="40">40</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-oioh88yz"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-oioh88yz" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008086/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-spqy3ils"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-spqy3ils" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>You could avoid memory allocation. There are many variants, all having problems in case of multithreading environment.</p>

<p>I prefer this kind of implementation (actually, it is not correctly said I prefer, because I avoid singletons as much as possible):</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
   </span><span class="typ">Singleton</span><span class="pun">();</span><span class="pln">

</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
   </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&amp;</span><span class="pln"> instance</span><span class="pun">()</span><span class="pln">
   </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> INSTANCE</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> INSTANCE</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>It has no dynamic memory allocation.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-17T16:10:55"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1008086" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f2.5%2f" data-se-share-sheet-license-name="CC BY-SA 2.5" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-3" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-3"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/2.5/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 2.5">CC BY-SA 2.5</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008086/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008086" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-7mlonrb2">
        follow
    </button><div id="--stacks-s-tooltip-7mlonrb2" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2009-06-17 16:10:55Z" class="relativetime">Jun 17 '09 at 16:10</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/83153/c%c4%83t%c4%83lin-piti%c8%99"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/354cebab9933b87ec904427c30c16db9.jpeg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/83153/c%c4%83t%c4%83lin-piti%c8%99">Cătălin Pitiș</a><span class="d-none" itemprop="name">Cătălin Pitiș</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 13,181" dir="ltr">13.2k</span><span title="2 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 gold badges</span><span title="34 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">34</span></span><span class="v-visible-sr">34 silver badges</span><span title="61 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">61</span></span><span class="v-visible-sr">61 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008086" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008086" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-817206" class="comment js-comment " data-comment-id="817206">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">In some instances, this lazy initialization is not the ideal pattern to follow.   One example is if the constructor of the singleton allocates memory from the heap and you wish that allocation to be predictable, for instance in an embedded system or other tightly controlled environment.  I prefer, when the Singleton pattern is the best pattern to use, to create the instance as a static member of the class.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/55227/dma" title="1,569 reputation" class="comment-user">dma</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment817206_1008086"><span title="2009-06-17 17:06:34Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 17:06</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-817482" class="comment js-comment " data-comment-id="817482">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">For many larger programs, especially those with dynamic libraries. Any global or static object that's none primitive can lead to segfaults/crashes upon program exit on many platforms due to order of destruction issues upon libraries unloading. This is one of the reasons many coding conventions (including Google's) ban the use of non-trivial static and global objects.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/47303/obecalp" title="1,655 reputation" class="comment-user">obecalp</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment817482_1008086"><span title="2009-06-17 18:04:48Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 18:04</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-72056800" class="comment js-comment " data-comment-id="72056800">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">It seems that the static instance in such implementation has internal linkage, and will have unique and independent copies in different translation unit, which will cause confusing and wrong behavior.  But I saw many such implementation, am I missing something?</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/1737132/facebro" title="690 reputation" class="comment-user">FaceBro</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment72056800_1008086"><span title="2017-02-25 14:12:08Z, License: CC BY-SA 3.0" class="relativetime-clean">Feb 25 '17 at 14:12</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-100621325" class="comment js-comment " data-comment-id="100621325">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">What prevents user from assigning this to multiple objects where compiler behind the scenes uses its own copy constructor?</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/6530695/tony-tannous" title="9,868 reputation" class="comment-user">Tony Tannous</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment100621325_1008086"><span title="2019-07-15 20:46:15Z, License: CC BY-SA 4.0" class="relativetime-clean">Jul 15 '19 at 20:46</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008086" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

<div class="js-zone-container zone-container-main">
    <div id="dfp-smlb" class="everyonelovesstackoverflow everyoneloves__mid-second-leaderboard everyoneloves__leaderboard" data-clc-prefilled="true" data-google-query-id="CLCC38GnvesCFaPVfAodR30Pcg" data-clc-ready="true" style="min-height: auto; height: auto; display: none;"><div id="google_ads_iframe_/248424177/stackoverflow.com/smlb/question-pages_0__container__" style="border: 0pt none; width: 728px; height: auto; min-height: auto; display: none;"></div></div>
    <div class="js-report-ad-button-container " style="width: 300px"></div>
</div>
                                          
<a name="40337728"></a>
<div id="answer-40337728" class="answer" data-answerid="40337728" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="40337728">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-osum5v3y"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-osum5v3y" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="21">21</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-q03yscua"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-q03yscua" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/40337728/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-zpx5uywb"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-zpx5uywb" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p><a href="https://stackoverflow.com/a/1008289/3807729">@Loki Astari's answer</a> is excellent. </p>

<p>However there are times with multiple static objects where you need to be able to guarantee that the <em>singleton</em> will not be destroyed until all your static objects that use the <em>singleton</em> no longer need it.</p>

<p>In this case <code>std::shared_ptr</code> can be used to keep the <em>singleton</em> alive for all users even when the static destructors are being called at the end of the program:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
    </span><span class="typ">Singleton</span><span class="pun">(</span><span class="typ">Singleton</span><span class="pln"> </span><span class="kwd">const</span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">Singleton</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="typ">Singleton</span><span class="pln"> </span><span class="kwd">const</span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">shared_ptr</span><span class="pun">&lt;</span><span class="typ">Singleton</span><span class="pun">&gt;</span><span class="pln"> instance</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">shared_ptr</span><span class="pun">&lt;</span><span class="typ">Singleton</span><span class="pun">&gt;</span><span class="pln"> s</span><span class="pun">{</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">};</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
    </span><span class="typ">Singleton</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="pun">};</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2016-10-31T06:56:15"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/40337728" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-4" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-4"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/40337728/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-40337728" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-5sutdlvb">
        follow
    </button><div id="--stacks-s-tooltip-5sutdlvb" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/40337728/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2017-05-23 12:34:47Z" class="relativetime">May 23 '17 at 12:34</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/-1/community"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/a007be5a61f6aa8f3e85ae2fc18dd66e.png" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/-1/community">Community</a><span class="mod-flair " title="moderator">♦</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge" aria-hidden="true"><span class="badge2"></span><span class="badgecount">1</span></span><span class="v-visible-sr">1 silver badge</span>
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2016-10-31 06:56:15Z" class="relativetime">Oct 31 '16 at 6:56</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/3807729/galik"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/UEUbF.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/3807729/galik">Galik</a><span class="d-none" itemprop="name">Galik</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 39,941" dir="ltr">39.9k</span><span title="3 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">3</span></span><span class="v-visible-sr">3 gold badges</span><span title="71 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">71</span></span><span class="v-visible-sr">71 silver badges</span><span title="94 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">94</span></span><span class="v-visible-sr">94 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-40337728" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="40337728" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-40337728" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="1008112"></a>
<div id="answer-1008112" class="answer" data-answerid="1008112" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008112">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-kxlmeuam"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-kxlmeuam" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="9">9</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-lj8271dq"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-lj8271dq" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008112/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-ixj34cpo"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-ixj34cpo" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Another non-allocating alternative: create a singleton, say of class <code>C</code>, as you need it:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="pln">singleton</span><span class="pun">&lt;</span><span class="pln">C</span><span class="pun">&gt;()</span></code></pre>

<p>using</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">template</span><span class="pln"> </span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> X</span><span class="pun">&gt;</span><span class="pln">
X</span><span class="pun">&amp;</span><span class="pln"> singleton</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">static</span><span class="pln"> X x</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Neither this nor Cătălin's answer is automatically thread-safe in current C++, but will be in C++0x.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-17T16:15:51"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1008112" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f2.5%2f" data-se-share-sheet-license-name="CC BY-SA 2.5" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-5" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-5"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/2.5/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 2.5">CC BY-SA 2.5</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008112/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008112" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-b5s0jxqe">
        follow
    </button><div id="--stacks-s-tooltip-b5s0jxqe" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2009-06-17 16:15:51Z" class="relativetime">Jun 17 '09 at 16:15</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/11828/james-hopkin"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/30460bd73df70a706409737e596a2ed9.jpeg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/11828/james-hopkin">James Hopkin</a><span class="d-none" itemprop="name">James Hopkin</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 12,871" dir="ltr">12.9k</span><span title="1 gold badge" aria-hidden="true"><span class="badge1"></span><span class="badgecount">1</span></span><span class="v-visible-sr">1 gold badge</span><span title="37 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">37</span></span><span class="v-visible-sr">37 silver badges</span><span title="67 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">67</span></span><span class="v-visible-sr">67 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008112" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008112" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-816978" class="comment js-comment " data-comment-id="816978">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Currently under gcc it is thread safe (and has been for a while).</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816978_1008112"><span title="2009-06-17 16:26:27Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:26</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-816984" class="comment js-comment " data-comment-id="816984">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">13</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">The problem with this design is that if used across multiple libraries. Each library has is own copy of the singleton that that library uses. So it is no longer a singleton.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816984_1008112"><span title="2009-06-17 16:27:45Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:27</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="va-text-bottom o50 svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>
                        </span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008112" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="23541471"></a>
<div id="answer-23541471" class="answer" data-answerid="23541471" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="23541471">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-2trx53gn"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-2trx53gn" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="6">6</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-u0g7u3ra"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-u0g7u3ra" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/23541471/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-kktwcvwr"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-kktwcvwr" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Here is an easy implementation.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;Windows.h&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">

</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">


</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
    </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">*</span><span class="pln"> getInstance</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">m_instanceSingleton</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln">
        m_instanceSingleton </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> 
        m_instanceSingleton</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
    </span><span class="com">// private constructor and destructor</span><span class="pln">
    </span><span class="typ">SingletonClass</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"SingletonClass instance created!\n"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">~</span><span class="typ">SingletonClass</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

    </span><span class="com">// private copy constructor and assignment operator</span><span class="pln">
    </span><span class="typ">SingletonClass</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">&amp;);</span><span class="pln">
    </span><span class="typ">SingletonClass</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">&amp;);</span><span class="pln">

    </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pln"> </span><span class="pun">*</span><span class="pln">m_instanceSingleton</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="typ">SingletonClass</span><span class="pun">*</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">::</span><span class="pln">m_instanceSingleton </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">nullptr</span><span class="pun">;</span><span class="pln">



</span><span class="typ">int</span><span class="pln"> main</span><span class="pun">(</span><span class="typ">int</span><span class="pln"> argc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> argv</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">SingletonClass</span><span class="pln"> </span><span class="pun">*</span><span class="pln">singleton</span><span class="pun">;</span><span class="pln">
    singleton </span><span class="pun">=</span><span class="pln"> singleton</span><span class="pun">-&gt;</span><span class="pln">getInstance</span><span class="pun">();</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> singleton </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Another object gets the reference of the first object!</span><span class="pln">
    </span><span class="typ">SingletonClass</span><span class="pln"> </span><span class="pun">*</span><span class="pln">anotherSingleton</span><span class="pun">;</span><span class="pln">
    anotherSingleton </span><span class="pun">=</span><span class="pln"> anotherSingleton</span><span class="pun">-&gt;</span><span class="pln">getInstance</span><span class="pun">();</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> anotherSingleton </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">

    </span><span class="typ">Sleep</span><span class="pun">(</span><span class="lit">5000</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Only one object created and this object reference is returned each and every time afterwords.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="typ">SingletonClass</span><span class="pln"> instance created</span><span class="pun">!</span><span class="pln">
</span><span class="lit">00915CB8</span><span class="pln">
</span><span class="lit">00915CB8</span></code></pre>

<p>Here 00915CB8 is the memory location of singleton Object, same for the duration of the program but (normally!) different each time the program is run.</p>

<p>N.B. This is not a thread safe one.You have to ensure thread safety.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2014-05-08T12:14:14"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/23541471" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-6" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-6"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/23541471/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-23541471" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-al6esdy5">
        follow
    </button><div id="--stacks-s-tooltip-al6esdy5" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/23541471/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2016-11-17 20:17:04Z" class="relativetime">Nov 17 '16 at 20:17</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/6396166/lastblow"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/38485aa8e631ac55b1f3d65926116063" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/6396166/lastblow">LastBlow</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">312</span><span title="5 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">5</span></span><span class="v-visible-sr">5 silver badges</span><span title="13 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">13</span></span><span class="v-visible-sr">13 bronze badges</span>
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2014-05-08 12:14:14Z" class="relativetime">May 8 '14 at 12:14</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/1918966/tunvir-rahman-tusher"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/75eCJ.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/1918966/tunvir-rahman-tusher">Tunvir Rahman Tusher</a><span class="d-none" itemprop="name">Tunvir Rahman Tusher</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">5,142</span><span title="2 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 gold badges</span><span title="29 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">29</span></span><span class="v-visible-sr">29 silver badges</span><span title="29 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">29</span></span><span class="v-visible-sr">29 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-23541471" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="23541471" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-23541471" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="48748284"></a>
<div id="answer-48748284" class="answer" data-answerid="48748284" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="48748284">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-vak2iz1c"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-vak2iz1c" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="6">6</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-am0kksdw"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-am0kksdw" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/48748284/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-hzf8jflu"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-hzf8jflu" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>I did not find a CRTP implementation among the answers, so here it is:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> </span><span class="typ">HeirT</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
    </span><span class="typ">Singleton</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

    </span><span class="typ">Singleton</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

    </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">&amp;</span><span class="kwd">operator</span><span class="pun">=(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">HeirT</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">instance</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">HeirT</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>To use just inherit your class from this, like: <code>class Test : public Singleton&lt;Test&gt;</code></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2018-02-12T14:02:46"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/48748284" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-7" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-7"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/48748284/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-48748284" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-6j0yysty">
        follow
    </button><div id="--stacks-s-tooltip-6j0yysty" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/48748284/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2018-03-14 12:15:03Z" class="relativetime">Mar 14 '18 at 12:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-02-12 14:02:46Z" class="relativetime">Feb 12 '18 at 14:02</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/6490190/yuriy"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/2c28036f5e41e1db1ea8d989c9264820" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/6490190/yuriy">Yuriy</a><span class="d-none" itemprop="name">Yuriy</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">466</span><span title="3 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">3</span></span><span class="v-visible-sr">3 silver badges</span><span title="13 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">13</span></span><span class="v-visible-sr">13 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-48748284" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="48748284" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-99210696" class="comment js-comment " data-comment-id="99210696">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Could not get this to work with C++17 until I made default constructor protected and '= default;'.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/2428901/wfranczyk" title="412 reputation" class="comment-user">WFranczyk</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment99210696_48748284"><span title="2019-05-24 20:33:16Z, License: CC BY-SA 4.0" class="relativetime-clean">May 24 '19 at 20:33</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-48748284" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="1011446"></a>
<div id="answer-1011446" class="answer" data-answerid="1011446" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1011446">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-1wv4xm4q"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-1wv4xm4q" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="6">6</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-9ezizdcm"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-9ezizdcm" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1011446/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-perg4psn"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-perg4psn" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>The solution in the accepted answer has a significant drawback - the destructor for the singleton is called after the control leaves the <code>main()</code> function. There may be problems really, when some dependent objects are allocated inside <code>main</code>.</p>

<p>I met this problem, when trying to introduce a Singleton in the Qt application. I decided, that all my setup dialogs must be Singletons, and adopted the pattern above. Unfortunately, Qt's main class <code>QApplication</code> was allocated on stack in the <code>main</code> function, and Qt forbids creating/destroying dialogs when no application object is available.</p>

<p>That is why I prefer heap-allocated singletons. I provide an explicit <code>init()</code> and <code>term()</code> methods for all the singletons and call them inside <code>main</code>. Thus I have a full control over the order of singletons creation/destruction, and also I guarantee that singletons will be created, no matter whether someone called <code>getInstance()</code> or not.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-18T08:25:10"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1011446" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-8" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-8"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1011446/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1011446" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-o6dt4yb8">
        follow
    </button><div id="--stacks-s-tooltip-o6dt4yb8" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/1011446/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2018-10-01 23:17:44Z" class="relativetime">Oct 1 '18 at 23:17</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/4289700/hugoteixeira"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/photo.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/4289700/hugoteixeira">HugoTeixeira</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">3,401</span><span title="2 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 gold badges</span><span title="16 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">16</span></span><span class="v-visible-sr">16 silver badges</span><span title="26 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">26</span></span><span class="v-visible-sr">26 bronze badges</span>
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2009-06-18 08:25:10Z" class="relativetime">Jun 18 '09 at 8:25</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/123012/sadsido"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/oWzIM.png" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/123012/sadsido">SadSido</a><span class="d-none" itemprop="name">SadSido</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,433</span><span title="20 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">20</span></span><span class="v-visible-sr">20 silver badges</span><span title="34 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">34</span></span><span class="v-visible-sr">34 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1011446" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1011446" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-17410766" class="comment js-comment " data-comment-id="17410766">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">If you are referring to the currently accepted answer you first statement is wrong. The destructor is not called until all static storage duration objects are destroyed.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment17410766_1011446"><span title="2012-10-12 16:40:13Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 12 '12 at 16:40</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1011446" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="14286696"></a>
<div id="answer-14286696" class="answer" data-answerid="14286696" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="14286696">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-nt6nihmy"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-nt6nihmy" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="5">5</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-0i0wjr6h"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-0i0wjr6h" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/14286696/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-saw7tpt9"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-saw7tpt9" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>If you want to allocate the object in heap, why don't use a unique pointer. Memory will also be deallocated since we are using a unique pointer.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> S
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> S</span><span class="pun">&amp;</span><span class="pln"> getInstance</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln"> m_s</span><span class="pun">.</span><span class="pln">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
              m_s</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> S</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">*</span><span class="pln">m_s</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">unique_ptr</span><span class="pun">&lt;</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> m_s</span><span class="pun">;</span><span class="pln">

        S</span><span class="pun">();</span><span class="pln">
        S</span><span class="pun">(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;);</span><span class="pln">            </span><span class="com">// Don't Implement</span><span class="pln">
        </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="pln">S </span><span class="kwd">const</span><span class="pun">&amp;);</span><span class="pln"> </span><span class="com">// Don't implement</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

std</span><span class="pun">::</span><span class="pln">unique_ptr</span><span class="pun">&lt;</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> S</span><span class="pun">::</span><span class="pln">m_s</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2013-01-11T21:11:31"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/14286696" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-9" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-9"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/14286696/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-14286696" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-3xejggwe">
        follow
    </button><div id="--stacks-s-tooltip-3xejggwe" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/14286696/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2017-03-28 13:20:35Z" class="relativetime">Mar 28 '17 at 13:20</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/4052030/nicolas-holthaus"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/photo(1).jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details">
        <a href="https://stackoverflow.com/users/4052030/nicolas-holthaus">Nicolas Holthaus</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">6,179</span><span title="3 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">3</span></span><span class="v-visible-sr">3 gold badges</span><span title="31 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">31</span></span><span class="v-visible-sr">31 silver badges</span><span title="75 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">75</span></span><span class="v-visible-sr">75 bronze badges</span>
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2013-01-11 21:11:31Z" class="relativetime">Jan 11 '13 at 21:11</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/513810/riderchap"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/903e0ce5d71de7fa487b54c565bda78e" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/513810/riderchap">riderchap</a><span class="d-none" itemprop="name">riderchap</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">619</span><span title="10 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">10</span></span><span class="v-visible-sr">10 silver badges</span><span title="19 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">19</span></span><span class="v-visible-sr">19 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-14286696" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="14286696" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-66646588" class="comment js-comment " data-comment-id="66646588">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Deprecated in c++11. unique_ptr is recommended instead. <a href="http://www.cplusplus.com/reference/memory/auto_ptr/" rel="nofollow noreferrer">cplusplus.com/reference/memory/auto_ptr</a> <a href="http://www.cplusplus.com/reference/memory/unique_ptr/" rel="nofollow noreferrer">cplusplus.com/reference/memory/unique_ptr</a></span>
                
–&nbsp;<a href="https://stackoverflow.com/users/1599699/andrew" title="2,482 reputation" class="comment-user">Andrew</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment66646588_14286696"><span title="2016-09-24 05:19:00Z, License: CC BY-SA 3.0" class="relativetime-clean">Sep 24 '16 at 5:19</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-73800802" class="comment js-comment " data-comment-id="73800802">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">This isn't thread safe. Better to make <code>m_s</code> a local <code>static</code> of <code>getInstance()</code>and initialize it immediately without a test.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/3807729/galik" title="39,941 reputation" class="comment-user">Galik</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment73800802_14286696"><span title="2017-04-12 12:28:35Z, License: CC BY-SA 3.0" class="relativetime-clean">Apr 12 '17 at 12:28</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="va-text-bottom o50 svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>
                        </span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-14286696" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="49752301"></a>
<div id="answer-49752301" class="answer" data-answerid="49752301" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="49752301">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-xn11n673"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-xn11n673" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="3">3</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-xhaetr17"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-xhaetr17" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/49752301/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-78zy5clu"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-78zy5clu" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Has anyone mentioned <code>std::call_once</code> and <code>std::once_flag</code>?
Most other approaches - including double checked locking - are broken.</p>

<p>One major problem in singleton pattern implementation is safe initialization. The only safe way is to guard the initialization sequence with synchronizing barriers. But those barriers themselves need to be safely initiated. <code>std::once_flag</code> is the mechanism to get guaranteed safe initialization.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2018-04-10T11:19:08"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/49752301" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-10" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-10"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/49752301/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-49752301" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-98oiesrq">
        follow
    </button><div id="--stacks-s-tooltip-98oiesrq" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/49752301/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2018-04-10 13:14:32Z" class="relativetime">Apr 10 '18 at 13:14</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-04-10 11:19:08Z" class="relativetime">Apr 10 '18 at 11:19</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/6385640/red-wave"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/photo(2).jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/6385640/red-wave">Red.Wave</a><span class="d-none" itemprop="name">Red.Wave</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,181</span><span title="5 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">5</span></span><span class="v-visible-sr">5 silver badges</span><span title="8 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">8</span></span><span class="v-visible-sr">8 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-49752301" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="49752301" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-49752301" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="1008106"></a>
<div id="answer-1008106" class="answer" data-answerid="1008106" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="1008106">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-hu29qcjs"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-hu29qcjs" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="2">2</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-m7o9u0b0"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-m7o9u0b0" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/1008106/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-txm4tnti"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-txm4tnti" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>It is indeed probably allocated from the heap, but without the sources there is no way of knowing.</p>

<p>The typical implementation (taken from some code I have in emacs already) would be:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">getInstance</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">instance</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>...and rely on the program going out of scope to clean up afterwards.</p>

<p>If you work on a platform where cleanup must be done manually, I'd probably add a manual cleanup routine.</p>

<p>Another issue with doing it this way is that it isn't thread-safe. In a multithreaded environment, two threads could get through the "if" before either has a chance to allocate the new instance (so both would). This still isn't too big of a deal if you are relying on program termination to clean up anyway.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2009-06-17T16:14:23"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/1008106" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f2.5%2f" data-se-share-sheet-license-name="CC BY-SA 2.5" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-11" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-11"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/2.5/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 2.5">CC BY-SA 2.5</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/1008106/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-1008106" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-rpz6oixf">
        follow
    </button><div id="--stacks-s-tooltip-rpz6oixf" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2009-06-17 16:14:23Z" class="relativetime">Jun 17 '09 at 16:14</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/29639/t-e-d"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/J38sS.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/29639/t-e-d">T.E.D.</a><span class="d-none" itemprop="name">T.E.D.</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 40,168" dir="ltr">40.2k</span><span title="8 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">8</span></span><span class="v-visible-sr">8 gold badges</span><span title="62 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">62</span></span><span class="v-visible-sr">62 silver badges</span><span title="130 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">130</span></span><span class="v-visible-sr">130 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-1008106" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="1008106" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-816933" class="comment js-comment " data-comment-id="816933">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">you can deduce, since you can see that instance variable is a pointer to the class instance.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/104014/artem-barger" title="37,654 reputation" class="comment-user owner">Artem Barger</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816933_1008106"><span title="2009-06-17 16:18:32Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:18</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-816972" class="comment js-comment " data-comment-id="816972">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">There is no need to dynamically allocate the singleton. In fact this is a bad idea as there is not way to automatically de-allocate using the above design. Let it fall out of scope is does not call destructors and is just lazy.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment816972_1008106"><span title="2009-06-17 16:25:23Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 16:25</span></a></span>
            </div>
        </div>
    </li>
    <li id="comment-818304" class="comment js-comment " data-comment-id="818304">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">You can automatically deallocate using the atexit function. That's what we do (not saying it's a good idea)</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/12567/joe" title="3,582 reputation" class="comment-user">Joe</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment818304_1008106"><span title="2009-06-17 20:15:11Z, License: CC BY-SA 2.5" class="relativetime-clean">Jun 17 '09 at 20:15</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-1008106" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="58948310"></a>
<div id="answer-58948310" class="answer" data-answerid="58948310" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="58948310">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-6wkjd99c"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-6wkjd99c" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="2">2</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-u986zd5a"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-u986zd5a" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/58948310/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-x3xwazms"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-x3xwazms" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>We went over this topic recently in my EECS class. If you want to look at the lecture notes in detail, visit <a href="http://umich.edu/~eecs381/lecture/IdiomsDesPattsCreational.pdf" rel="nofollow noreferrer">http://umich.edu/~eecs381/lecture/IdiomsDesPattsCreational.pdf</a></p>

<p>There are two ways that I know to create a Singleton class correctly.</p>

<p><strong>First Way:</strong></p>

<p>Implement it similar to the way you have it in your example. As for destruction, "Singletons usually endure for the length of the program run; most OSs will recover memory and most other resources when a program terminates, so there is an argument for not worrying about this."</p>

<p>However, it is good practice to clean up at program termination. Therefore, you can do this with an auxiliary static SingletonDestructor class and declare that as a friend in your Singleton.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
  </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> get_instance</span><span class="pun">();</span><span class="pln">

  </span><span class="com">// disable copy/move -- this is a Singleton</span><span class="pln">
  </span><span class="typ">Singleton</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
  </span><span class="typ">Singleton</span><span class="pun">(</span><span class="typ">Singleton</span><span class="pun">&amp;&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
  </span><span class="typ">Singleton</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
  </span><span class="typ">Singleton</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="typ">Singleton</span><span class="pun">&amp;&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">friend</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton_destroyer</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
  </span><span class="typ">Singleton</span><span class="pun">();</span><span class="pln">  </span><span class="com">// no one else can create one</span><span class="pln">
  </span><span class="pun">~</span><span class="typ">Singleton</span><span class="pun">();</span><span class="pln"> </span><span class="com">// prevent accidental deletion</span><span class="pln">

  </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> ptr</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// auxiliary static object for destroying the memory of Singleton</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton_destroyer</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
  </span><span class="pun">~</span><span class="typ">Singleton_destroyer</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">delete</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">ptr</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>The Singleton_destroyer will be created on program startup, and "when program terminates, all global/static objects are destroyed by the runtime library shutdown code (inserted by the linker), so the_destroyer will be destroyed; its destructor will delete the Singleton, running its destructor."</p>

<p><strong>Second Way</strong></p>

<p>This is called the Meyers Singleton, created by C++ wizard Scott Meyers. Simply define get_instance() differently. Now you can also get rid of the pointer member variable.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">// public member function</span><span class="pln">
</span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&amp;</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">get_instance</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> s</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>This is neat because the value returned is by reference and you can use <code>.</code> syntax instead of <code>-&gt;</code> to access member variables.</p>

<p>"Compiler automatically builds code that creates 's' first time through the
declaration, not thereafter, and then deletes the static object at program
termination."</p>

<p>Note also that with the Meyers Singleton you "can get into very difficult situation if objects rely on each other at the time of
termination - when does the Singleton disappear relative to other objects? But for simple applications, this works fine."</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2019-11-20T06:48:39"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/58948310" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-12" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-12"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/58948310/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-58948310" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-euzzow7g">
        follow
    </button><div id="--stacks-s-tooltip-euzzow7g" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2019-11-20 06:48:39Z" class="relativetime">Nov 20 '19 at 6:48</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/8157027/tony-bai"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/1ee53896094fb91ce1195b5294436b65" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/8157027/tony-bai">Tony Bai</a><span class="d-none" itemprop="name">Tony Bai</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">73</span><span title="2 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 silver badges</span><span title="6 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">6</span></span><span class="v-visible-sr">6 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-58948310" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="58948310" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-58948310" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="33570123"></a>
<div id="answer-33570123" class="answer" data-answerid="33570123" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="33570123">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-56h43thr"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-56h43thr" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="1">1</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-807fdd2t"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-807fdd2t" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/33570123/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-7j1306fe"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-7j1306fe" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>In addition to the other discussion here, it may be worth noting that you can have global-ness, without limiting usage to one instance. For example, consider the case of reference counting something...</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">struct</span><span class="pln"> </span><span class="typ">Store</span><span class="pun">{</span><span class="pln">
   std</span><span class="pun">::</span><span class="typ">array</span><span class="pun">&lt;</span><span class="typ">Something</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1024</span><span class="pun">&gt;</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
   </span><span class="typ">size_t</span><span class="pln"> get</span><span class="pun">(</span><span class="typ">size_t</span><span class="pln"> idx</span><span class="pun">){</span><span class="pln"> </span><span class="com">/* ... */</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
   </span><span class="kwd">void</span><span class="pln"> incr_ref</span><span class="pun">(</span><span class="typ">size_t</span><span class="pln"> idx</span><span class="pun">){</span><span class="pln"> </span><span class="com">/* ... */</span><span class="pun">}</span><span class="pln">
   </span><span class="kwd">void</span><span class="pln"> decr_ref</span><span class="pun">(</span><span class="typ">size_t</span><span class="pln"> idx</span><span class="pun">){</span><span class="pln"> </span><span class="com">/* ... */</span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="typ">Store</span><span class="pun">*</span><span class="pln"> store_p</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">ItemRef</span><span class="pun">{</span><span class="pln">
   </span><span class="typ">size_t</span><span class="pln"> idx</span><span class="pun">;</span><span class="pln">
   </span><span class="kwd">auto</span><span class="pln"> get</span><span class="pun">(){</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> store_p</span><span class="pun">-&gt;</span><span class="pln">get</span><span class="pun">(</span><span class="pln">idx</span><span class="pun">);</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
   </span><span class="typ">ItemRef</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> store_p</span><span class="pun">-&gt;</span><span class="pln">incr_ref</span><span class="pun">(</span><span class="pln">idx</span><span class="pun">);</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
   </span><span class="pun">~</span><span class="typ">ItemRef</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> store_p</span><span class="pun">-&gt;</span><span class="pln">decr_ref</span><span class="pun">(</span><span class="pln">idx</span><span class="pun">);</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="typ">Store</span><span class="pln"> store1_g</span><span class="pun">;</span><span class="pln">
</span><span class="typ">Store</span><span class="pln"> store2_g</span><span class="pun">;</span><span class="pln"> </span><span class="com">// we don't restrict the number of global Store instances</span></code></pre>

<p>Now somewhere inside a function (such as <code>main</code>) you can do:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">auto</span><span class="pln"> ref1_a </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ItemRef</span><span class="pun">&lt;&amp;</span><span class="pln">store1_g</span><span class="pun">&gt;(</span><span class="lit">101</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">auto</span><span class="pln"> ref2_a </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ItemRef</span><span class="pun">&lt;&amp;</span><span class="pln">store2_g</span><span class="pun">&gt;(</span><span class="lit">201</span><span class="pun">);</span><span class="pln"> </span></code></pre>

<p>The refs don't need to store a pointer back to their respective <code>Store</code> because that information is supplied at compile-time. You also don't have to worry about the <code>Store</code>'s lifetime because the compiler requires that it is global.  If there is indeed only one instance of <code>Store</code> then there's no overhead in this approach; with more than one instance it's up to the compiler to be clever about code generation. If necessary, the <code>ItemRef</code> class can even be made a <code>friend</code> of <code>Store</code> (you can have templated friends!).</p>

<p>If <code>Store</code> itself is a templated class then things get messier, but it is still possible to use this method, perhaps by implementing a helper class with the following signature:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">template</span><span class="pln"> </span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> </span><span class="typ">Store_t</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Store_t</span><span class="pun">*</span><span class="pln"> store_p</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">StoreWrapper</span><span class="pun">{</span><span class="pln"> </span><span class="com">/* stuff to access store_p, e.g. methods returning 
                       instances of ItemRef&lt;Store_t, store_p&gt;. */</span><span class="pln"> </span><span class="pun">};</span></code></pre>

<p>The user can now create a <code>StoreWrapper</code> type (and global instance) for each global <code>Store</code> instance, and always access the stores via their wrapper instance (thus forgetting about the gory details of the template parameters needed for using <code>Store</code>).</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2015-11-06T15:27:01"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/33570123" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-13" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-13"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/33570123/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-33570123" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-155353fs">
        follow
    </button><div id="--stacks-s-tooltip-155353fs" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/33570123/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2015-11-09 11:24:30Z" class="relativetime">Nov 9 '15 at 11:24</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2015-11-06 15:27:01Z" class="relativetime">Nov 6 '15 at 15:27</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/2399799/dan-man"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/4NpzF.png" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/2399799/dan-man">dan-man</a><span class="d-none" itemprop="name">dan-man</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,282</span><span title="1 gold badge" aria-hidden="true"><span class="badge1"></span><span class="badgecount">1</span></span><span class="v-visible-sr">1 gold badge</span><span title="19 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">19</span></span><span class="v-visible-sr">19 silver badges</span><span title="40 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">40</span></span><span class="v-visible-sr">40 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-33570123" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="33570123" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-33570123" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="2559122"></a>
<div id="answer-2559122" class="answer" data-answerid="2559122" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="2559122">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-ieijkeg8"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-ieijkeg8" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-tgxa96hr"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-tgxa96hr" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/2559122/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-8ysb3zky"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-8ysb3zky" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>This is about object life-time management. Suppose you have more than singletons in your software. And they depend on Logger singleton. During application destruction, suppose another singleton object uses Logger to log its destruction steps. You have to guarantee that Logger should be cleaned up last. Therefore, please also check out this paper:
<a href="http://www.cs.wustl.edu/~schmidt/PDF/ObjMan.pdf" rel="nofollow noreferrer">http://www.cs.wustl.edu/~schmidt/PDF/ObjMan.pdf</a> </p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2010-04-01T08:42:05"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/2559122" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f2.5%2f" data-se-share-sheet-license-name="CC BY-SA 2.5" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-14" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-14"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/2.5/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 2.5">CC BY-SA 2.5</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/2559122/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-2559122" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-ept9qxqo">
        follow
    </button><div id="--stacks-s-tooltip-ept9qxqo" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-04-01 08:42:05Z" class="relativetime">Apr 1 '10 at 8:42</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/305038/baris-aydinoz"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/dnFS5.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/305038/baris-aydinoz">baris.aydinoz</a><span class="d-none" itemprop="name">baris.aydinoz</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,774</span><span title="2 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 gold badges</span><span title="16 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">16</span></span><span class="v-visible-sr">16 silver badges</span><span title="26 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">26</span></span><span class="v-visible-sr">26 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-2559122" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="2559122" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-2559122" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="58948070"></a>
<div id="answer-58948070" class="answer" data-answerid="58948070" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="58948070">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-2gw8sokk"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-2gw8sokk" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-wln12efz"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-wln12efz" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/58948070/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-xbb0eztt"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-xbb0eztt" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>My implementation is similar to Galik's. The difference is my implementation allows the shared pointers to clean up allocated memory, as opposed to holding onto the memory until the application is exited and the static pointers are cleaned up.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">#pragma</span><span class="pln"> once

</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;memory&gt;</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
  </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">weak_ptr</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> _singleton</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
  </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">shared_ptr</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> singleton</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    std</span><span class="pun">::</span><span class="pln">shared_ptr</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> singleton </span><span class="pun">=</span><span class="pln"> _singleton</span><span class="pun">.</span><span class="pln">lock</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">singleton</span><span class="pun">)</span><span class="pln"> 
    </span><span class="pun">{</span><span class="pln">
      singleton</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> T</span><span class="pun">());</span><span class="pln">
      _singleton </span><span class="pun">=</span><span class="pln"> singleton</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> singleton</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln">
std</span><span class="pun">::</span><span class="pln">weak_ptr</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;::</span><span class="pln">_singleton</span><span class="pun">;</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2019-11-20T06:30:33"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/58948070" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-15" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-15"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/58948070/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-58948070" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-hw7db40c">
        follow
    </button><div id="--stacks-s-tooltip-hw7db40c" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2019-11-20 06:30:33Z" class="relativetime">Nov 20 '19 at 6:30</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/5403550/kevin-marshall"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/b85be527ce51a8a734240ab627bf0d50" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/5403550/kevin-marshall">Kevin Marshall</a><span class="d-none" itemprop="name">Kevin Marshall</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">181</span><span title="2 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 silver badges</span><span title="7 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">7</span></span><span class="v-visible-sr">7 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-58948070" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="58948070" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-58948070" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="59670246"></a>
<div id="answer-59670246" class="answer" data-answerid="59670246" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="59670246">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-3zj84bvj"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-3zj84bvj" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-xz354w47"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-xz354w47" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/59670246/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-as0n3p6w"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-as0n3p6w" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Your code is correct, except that <em>you didn't declare the instance pointer outside the class</em>. The inside class declarations of static variables are not considered declarations in C++, however this is allowed in other languages like <strong>C#</strong> or <strong>Java</strong> etc.</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
       </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> getInstance</span><span class="pun">(</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
   </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
       </span><span class="typ">Singleton</span><span class="pun">(</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
       </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">instance</span><span class="pun">;</span><span class="pln"> </span><span class="com">//we need to declare outside because static variables are global</span></code></pre>

<p>You must know that Singleton instance <em>doesn't need to be manually deleted by us</em>. We need a single object of it throughout the whole program, so <em>at the end of program execution, it will be automatically deallocated.</em></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2020-01-09T18:37:41"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/59670246" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-16" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-16"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/59670246/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-59670246" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-8exqimat">
        follow
    </button><div id="--stacks-s-tooltip-8exqimat" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2020-01-09 18:37:41Z" class="relativetime">Jan 9 at 18:37</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/12065150/ali-sajjad"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/unnamed.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/12065150/ali-sajjad">Ali Sajjad</a><span class="d-none" itemprop="name">Ali Sajjad</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">370</span><span title="2 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 silver badges</span><span title="12 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">12</span></span><span class="v-visible-sr">12 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-59670246" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="59670246" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-59670246" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="62489069"></a>
<div id="answer-62489069" class="answer" data-answerid="62489069" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="62489069">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-z23xrsuo"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-z23xrsuo" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-39zo1cmg"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-39zo1cmg" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/62489069/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-uahunj41"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-uahunj41" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Here is my view on how to do proper singletons (and other non-trivial static objects): <a href="https://github.com/alex4747-pub/proper_singleton" rel="nofollow noreferrer">https://github.com/alex4747-pub/proper_singleton</a></p>
<p>Summary:</p>
<ol>
<li>Use static initialization list to instantiate singletons at the right time: after entering main and before enabling multi-threading</li>
<li>Add minor improvements to make it unit-test friendly.</li>
</ol>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2020-06-20T17:07:58"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/62489069" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-17" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-17"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/62489069/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-62489069" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-5kjg46sx">
        follow
    </button><div id="--stacks-s-tooltip-5kjg46sx" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2020-06-20 17:07:58Z" class="relativetime">Jun 20 at 17:07</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/194305/zzz777"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/1bea25433dd75445237bc5c42a225287" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/194305/zzz777">zzz777</a><span class="d-none" itemprop="name">zzz777</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">471</span><span title="2 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 silver badges</span><span title="16 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">16</span></span><span class="v-visible-sr">16 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-62489069" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="62489069" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-62489069" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="62859841"></a>
<div id="answer-62859841" class="answer" data-answerid="62859841" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="62859841">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-gapdi778"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-gapdi778" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-kp7pnmud"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-kp7pnmud" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/62859841/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-3znxzvvn"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-3znxzvvn" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>C++11 Thread safe implementation:</p>
<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="pln"> </span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
 </span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;thread&gt;</span><span class="pln">


 </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln">
 </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
         </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> _instance</span><span class="pun">;</span><span class="pln">
         </span><span class="kwd">static</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">mutex mutex_</span><span class="pun">;</span><span class="pln">

     </span><span class="kwd">protected</span><span class="pun">:</span><span class="pln">
         </span><span class="typ">Singleton</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">string value</span><span class="pun">):</span><span class="pln"> value_</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
         </span><span class="pun">~</span><span class="typ">Singleton</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
         std</span><span class="pun">::</span><span class="pln">string value_</span><span class="pun">;</span><span class="pln">

     </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
         </span><span class="com">/**
          * Singletons should not be cloneable.
          */</span><span class="pln">
         </span><span class="typ">Singleton</span><span class="pun">(</span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">
         </span><span class="com">/**
          * Singletons should not be assignable.
          */</span><span class="pln">
         </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">&amp;)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">delete</span><span class="pun">;</span><span class="pln">

         </span><span class="com">//static Singleton *GetInstance(const std::string&amp; value);</span><span class="pln">
         </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pln"> </span><span class="pun">*</span><span class="typ">GetInstance</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">string</span><span class="pun">&amp;</span><span class="pln"> value</span><span class="pun">)</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
             </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_instance </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">nullptr</span><span class="pun">)</span><span class="pln">
             </span><span class="pun">{</span><span class="pln">
                 std</span><span class="pun">::</span><span class="pln">lock_guard</span><span class="pun">&lt;</span><span class="pln">std</span><span class="pun">::</span><span class="pln">mutex</span><span class="pun">&gt;</span><span class="pln"> lock</span><span class="pun">(</span><span class="pln">mutex_</span><span class="pun">);</span><span class="pln">
                 </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_instance </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">nullptr</span><span class="pun">)</span><span class="pln">
                 </span><span class="pun">{</span><span class="pln">
                     _instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
                 </span><span class="pun">}</span><span class="pln">
             </span><span class="pun">}</span><span class="pln">
             </span><span class="kwd">return</span><span class="pln"> _instance</span><span class="pun">;</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">

         std</span><span class="pun">::</span><span class="pln">string value</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">const</span><span class="pun">{</span><span class="pln">
             </span><span class="kwd">return</span><span class="pln"> value_</span><span class="pun">;</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">};</span><span class="pln">

 </span><span class="com">/**
  * Static methods should be defined outside the class.
  */</span><span class="pln">
 </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">_instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">nullptr</span><span class="pun">;</span><span class="pln">
 std</span><span class="pun">::</span><span class="pln">mutex </span><span class="typ">Singleton</span><span class="pun">::</span><span class="pln">mutex_</span><span class="pun">;</span><span class="pln">


 </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">ThreadFoo</span><span class="pun">(){</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">this_thread</span><span class="pun">::</span><span class="pln">sleep_for</span><span class="pun">(</span><span class="pln">std</span><span class="pun">::</span><span class="pln">chrono</span><span class="pun">::</span><span class="pln">milliseconds</span><span class="pun">(</span><span class="lit">10</span><span class="pun">));</span><span class="pln">
     </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> singleton </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="typ">GetInstance</span><span class="pun">(</span><span class="str">"FOO"</span><span class="pun">);</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> singleton</span><span class="pun">-&gt;</span><span class="pln">value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">}</span><span class="pln">

 </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">ThreadBar</span><span class="pun">(){</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">this_thread</span><span class="pun">::</span><span class="pln">sleep_for</span><span class="pun">(</span><span class="pln">std</span><span class="pun">::</span><span class="pln">chrono</span><span class="pun">::</span><span class="pln">milliseconds</span><span class="pun">(</span><span class="lit">1000</span><span class="pun">));</span><span class="pln">
     </span><span class="typ">Singleton</span><span class="pun">*</span><span class="pln"> singleton </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">::</span><span class="typ">GetInstance</span><span class="pun">(</span><span class="str">"BAR"</span><span class="pun">);</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> singleton</span><span class="pun">-&gt;</span><span class="pln">value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">}</span><span class="pln">

 </span><span class="typ">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
 </span><span class="pun">{</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="str">"If you see the same value, then singleton was reused (yay!\n"</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln">
                 </span><span class="str">"If you see different values, then 2 singletons were created (booo!!)\n\n"</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln">
                 </span><span class="str">"RESULT:\n"</span><span class="pun">;</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">thread t1</span><span class="pun">(</span><span class="typ">ThreadFoo</span><span class="pun">);</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">thread t2</span><span class="pun">(</span><span class="typ">ThreadBar</span><span class="pun">);</span><span class="pln">
     t1</span><span class="pun">.</span><span class="pln">join</span><span class="pun">();</span><span class="pln">
     t2</span><span class="pun">.</span><span class="pln">join</span><span class="pun">();</span><span class="pln">
     std</span><span class="pun">::</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Complete!"</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">

     </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">}</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2020-07-12T10:18:24"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/62859841" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-18" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-18"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/62859841/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-62859841" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-3sv5kqg9">
        follow
    </button><div id="--stacks-s-tooltip-3sv5kqg9" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://stackoverflow.com/posts/62859841/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: 0, post_type: 2 })">edited <span title="2020-07-12 13:26:34Z" class="relativetime">Jul 12 at 13:26</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2020-07-12 10:18:24Z" class="relativetime">Jul 12 at 10:18</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/3994228/milind-deore"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/CKWtf.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/3994228/milind-deore">Milind Deore</a><span class="d-none" itemprop="name">Milind Deore</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,915</span><span title="1 gold badge" aria-hidden="true"><span class="badge1"></span><span class="badgecount">1</span></span><span class="v-visible-sr">1 gold badge</span><span title="16 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">16</span></span><span class="v-visible-sr">16 silver badges</span><span title="32 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">32</span></span><span class="v-visible-sr">32 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-62859841" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="62859841" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-62859841" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="63268662"></a>
<div id="answer-63268662" class="answer" data-answerid="63268662" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="63268662">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-rbd7dao0"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-rbd7dao0" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-d9d6hh5g"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-d9d6hh5g" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/63268662/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-ewfjpjiz"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-ewfjpjiz" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Here is a <a href="https://github.com/canonical/multipass/blob/7d3de5fb1a4402b4438dae4806677fdd6c776450/include/multipass/singleton.h" rel="nofollow noreferrer">mockable singleton</a> using <a href="https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern" rel="nofollow noreferrer">CRTP</a>. It relies on <a href="https://github.com/canonical/multipass/blob/7d3de5fb1a4402b4438dae4806677fdd6c776450/include/multipass/private_pass_provider.h" rel="nofollow noreferrer">a little helper</a> to enforce a single object at any one time (at most). To enforce a single object over program execution, remove the reset (which we find useful for tests).</p>
<p>A <code>ConcreteSinleton</code> can be implemented like this:</p>
<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">ConcreteSingleton</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&lt;</span><span class="typ">ConcreteSingleton</span><span class="pun">&gt;</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
  </span><span class="typ">ConcreteSingleton</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&lt;</span><span class="typ">ConcreteSingleton</span><span class="pun">&gt;::</span><span class="typ">PrivatePass</span><span class="pun">&amp;)</span><span class="pln">
      </span><span class="pun">:</span><span class="pln"> </span><span class="typ">Singleton</span><span class="pun">&lt;</span><span class="typ">StandardPaths</span><span class="pun">&gt;::</span><span class="typ">Singleton</span><span class="pun">{</span><span class="pln">pass</span><span class="pun">}</span><span class="pln">
  </span><span class="pun">{}</span><span class="pln">
  
  </span><span class="com">// ... concrete interface</span><span class="pln">
  </span><span class="typ">int</span><span class="pln"> f</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">42</span><span class="pun">;}</span><span class="pln">

</span><span class="pun">};</span></code></pre>
<p>And then used with</p>
<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="typ">ConcreteSingleton</span><span class="pun">::</span><span class="pln">instance</span><span class="pun">().</span><span class="pln">f</span><span class="pun">();</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2020-08-05T15:37:51"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/63268662" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-19" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-19"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/63268662/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-63268662" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-4etbz4y7">
        follow
    </button><div id="--stacks-s-tooltip-4etbz4y7" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2020-08-05 15:37:51Z" class="relativetime">Aug 5 at 15:37</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/563765/ricab"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/49ab6bfeccff0c206a8725ef0329d3a9.jpeg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/563765/ricab">ricab</a><span class="d-none" itemprop="name">ricab</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,910</span><span title="2 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 gold badges</span><span title="17 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">17</span></span><span class="v-visible-sr">17 silver badges</span><span title="25 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">25</span></span><span class="v-visible-sr">25 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-63268662" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="63268662" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-63268662" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="7800152"></a>
<div id="answer-7800152" class="answer" data-answerid="7800152" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="7800152">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-tl8nmcq0"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-tl8nmcq0" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="-1">-1</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-7qfqso8t"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-7qfqso8t" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/7800152/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-l0278tgh"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-l0278tgh" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>The paper that was linked to above describes the shortcoming of double checked locking is that the compiler may allocate the memory for the object and set a pointer to the address of the allocated memory, before the object's constructor has been called. It is quite easy in c++ however to use allocaters to allocate the memory manually, and then use a construct call to initialize the memory. Using this appraoch, the double-checked locking works just fine.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2011-10-17T22:06:18"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/7800152" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-20" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-20"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/7800152/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-7800152" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-ee3cv6ou">
        follow
    </button><div id="--stacks-s-tooltip-ee3cv6ou" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2011-10-17 22:06:18Z" class="relativetime">Oct 17 '11 at 22:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/1000051/sdfsdaf"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/d6ff690c6302831574fa5ad174fdd3e0" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/1000051/sdfsdaf">sdfsdaf</a><span class="d-none" itemprop="name">sdfsdaf</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-7800152" class="comments js-comments-container bt bc-black-2 mt12 " data-post-id="7800152" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <li id="comment-17410870" class="comment js-comment " data-comment-id="17410870">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score js-comment-edit-hide">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body js-comment-edit-hide">
                
                <span class="comment-copy">Unfortunately not. This has been discussed in great depth by some of the best C++ developers out there. Double checked locking is broken in C++03.</span>
                
–&nbsp;<a href="https://stackoverflow.com/users/14065/martin-york" title="225,097 reputation" class="comment-user">Martin York</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#comment17410870_7800152"><span title="2012-10-12 16:44:19Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 12 '12 at 16:44</span></a></span>
            </div>
        </div>
    </li>

            </ul>
	    </div>

        <div id="comments-link-7800152" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="21208582"></a>
<div id="answer-21208582" class="answer" data-answerid="21208582" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="21208582">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-uwn30eeo"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-uwn30eeo" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="-1">-1</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-nq09jk50"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-nq09jk50" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/21208582/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-s0vefros"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-s0vefros" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">#define</span><span class="pln"> INS</span><span class="pun">(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">private</span><span class="pun">:</span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">=(</span><span class="pln">c </span><span class="kwd">const</span><span class="pun">&amp;){};</span><span class="kwd">public</span><span class="pun">:</span><span class="kwd">static</span><span class="pln"> c</span><span class="pun">&amp;</span><span class="pln"> I</span><span class="pun">(){</span><span class="kwd">static</span><span class="pln"> c _instance</span><span class="pun">;</span><span class="kwd">return</span><span class="pln"> _instance</span><span class="pun">;}</span></code></pre>

<p>Example:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="pln">   </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CCtrl</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
        </span><span class="typ">CCtrl</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">virtual</span><span class="pln"> </span><span class="pun">~</span><span class="typ">CCtrl</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
        INS</span><span class="pun">(</span><span class="typ">CCtrl</span><span class="pun">);</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2014-01-18T19:05:14"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/21208582" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-21" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-21"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/21208582/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-21208582" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-usvlf3ed">
        follow
    </button><div id="--stacks-s-tooltip-usvlf3ed" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2014-01-18 19:05:14Z" class="relativetime">Jan 18 '14 at 19:05</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/336175/gank"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/3QNSs.jpg" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/336175/gank">Gank</a><span class="d-none" itemprop="name">Gank</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,791</span><span title="4 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">4</span></span><span class="v-visible-sr">4 gold badges</span><span title="40 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">40</span></span><span class="v-visible-sr">40 silver badges</span><span title="44 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">44</span></span><span class="v-visible-sr">44 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-21208582" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="21208582" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-21208582" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>

                                          
<a name="52270699"></a>
<div id="answer-52270699" class="answer" data-answerid="52270699" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
        <div class="votecell post-layout--left">
            <div class="js-voting-container grid fd-column ai-stretch gs4 fc-black-200" data-post-id="52270699">
        <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-ja1e7nt8"><svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 26h32L18 10 2 26z"></path></svg></button><div id="--stacks-s-tooltip-ja1e7nt8" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is useful<div class="s-popover--arrow"></div></div>
        <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="-1">-1</div>
        <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-vnn9zrsy"><svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36"><path d="M2 10h32L18 26 2 10z"></path></svg></button><div id="--stacks-s-tooltip-vnn9zrsy" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">This answer is not useful<div class="s-popover--arrow"></div></div>

    
            <div class="js-accepted-answer-indicator grid--cell fc-green-500 ta-center py4 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
            </div>

    
        <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="https://stackoverflow.com/posts/52270699/timeline" data-shortcut="T" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-lss2bogm"><svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg></a><div id="--stacks-s-tooltip-lss2bogm" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Show activity on this post.<div class="s-popover--arrow"></div></div>

</div>

        </div>

        

<div class="answercell post-layout--right">
    
    <div class="s-prose s-prose__disable-spoiler-hover js-post-body" itemprop="text">
<p>Simple singleton class, This must be your header class file</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="com">#ifndef</span><span class="pln"> SC_SINGLETON_CLASS_H
</span><span class="com">#define</span><span class="pln"> SC_SINGLETON_CLASS_H

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">*</span><span class="pln"> </span><span class="typ">Instance</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
           </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">*</span><span class="pln"> instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SingletonClass</span><span class="pun">();</span><span class="pln">
           </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Relocate</span><span class="pun">(</span><span class="typ">int</span><span class="pln"> X</span><span class="pun">,</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> Y</span><span class="pun">,</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> Z</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">private</span><span class="pun">:</span><span class="pln">
        </span><span class="typ">SingletonClass</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">~</span><span class="typ">SingletonClass</span><span class="pun">();</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> sSingletonClass </span><span class="typ">SingletonClass</span><span class="pun">::</span><span class="typ">Instance</span><span class="pun">()</span><span class="pln">

</span><span class="com">#endif</span></code></pre>

<p>Access your singleton like this:</p>

<pre class="lang-cpp prettyprint prettyprinted" style=""><code><span class="pln">sSingletonClass</span><span class="pun">-&gt;</span><span class="typ">Relocate</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">);</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
        <time itemprop="dateCreated" datetime="2018-09-11T07:23:23"></time>
        <div class="grid--cell mr16" style="flex: 1 1 100px;">
            

<div class="post-menu">
    <a href="https://stackoverflow.com/a/52270699" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="short permalink to this answer" data-gps-track="post.click({ item: 2, priv: 0, post_type: 2 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this answer" data-se-share-sheet-subtitle="" data-se-share-sheet-post-type="answer" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="2" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f4.0%2f" data-se-share-sheet-license-name="CC BY-SA 4.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-22" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show-&gt;se-share-sheet#willShow s-popover:shown-&gt;se-share-sheet#didShow">share</a><div class="s-popover z-dropdown" style="width: unset; max-width: 28em;" id="se-share-sheet-22"><div class="s-popover--arrow"></div><div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle"></span></div><div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly=""></div><div class="d-flex jc-space-between mbn4"><button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="s-block-link fc-blue-600 js-license" target="_blank" title="The current license for this post: CC BY-SA 4.0">CC BY-SA 4.0</a><div class="js-social-container"></div></div></div>
        <span class="lsep">|</span>
                <a href="https://stackoverflow.com/posts/52270699/edit" class="suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: 0, post_type: 2 })" title="">improve this answer</a>
        <span class="lsep">|</span>
    <button id="btnFollowPost-52270699" class="s-btn s-btn__link fc-black-400 h:fc-black-700 pb2 js-follow-post js-follow-answer js-gps-track" role="button" data-gps-track="post.click({ item: 14, priv: 0, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-by3sxmvd">
        follow
    </button><div id="--stacks-s-tooltip-by3sxmvd" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">Follow this answer to receive notifications<div class="s-popover--arrow"></div></div>
        <span class="lsep">|</span>
</div>

        </div>


    <div class="post-signature grid--cell fl0">
        <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-09-11 07:23:23Z" class="relativetime">Sep 11 '18 at 7:23</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://stackoverflow.com/users/7646611/ali-khazaee"><div class="gravatar-wrapper-32"><img src="./C++ Singleton design pattern - Stack Overflow_files/JqMnk.png" alt="" width="32" height="32" class="bar-sm"></div></a>
    </div>
    <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <a href="https://stackoverflow.com/users/7646611/ali-khazaee">Ali Khazaee</a><span class="d-none" itemprop="name">Ali Khazaee</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">168</span><span title="2 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">2</span></span><span class="v-visible-sr">2 silver badges</span><span title="13 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">13</span></span><span class="v-visible-sr">13 bronze badges</span>
        </div>
    </div>
</div>

    </div>
    </div>
    
</div>


                <div class="post-layout--right">
        <div id="comments-52270699" class="comments js-comments-container bt bc-black-2 mt12  dno" data-post-id="52270699" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-52270699" data-rep="50" data-anon="true">
                    <a class="js-add-link comments-link disabled-link" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" role="button">add a comment</a>
                <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" onclick="" role="button"></a>
        </div>         
    </div>
    </div>
</div>


                                <aside class="s-notice s-notice__info js-post-notice mb16" role="status">
        <div class="grid fd-column fw-nowrap">
            <div class="grid fw-nowrap">
                    <div class="grid--cell mr8">
                        <svg aria-hidden="true" class="svg-icon iconFire" width="18" height="18" viewBox="0 0 18 18"><path opacity=".6" d="M13.18 9c-.8.33-1.46.6-1.97 1.3A9.21 9.21 0 0010 13.89a10 10 0 001.32-.8 2.53 2.53 0 01-.63 2.91h.78a3 3 0 001.66-.5 4.15 4.15 0 001.26-1.61c.4-.96.47-1.7.55-2.73.05-1.24-.1-2.49-.46-3.68a2 2 0 01-.4.91 2.1 2.1 0 01-.9.62z" fill="#FF6700"></path><path d="M10.4 12.11a7.1 7.1 0 01.78-1.76c.3-.47.81-.8 1.37-1.08 0 0-.05-3.27-1.55-5.27-1.5-2-3.37-2.75-4.95-2.61 0 0 3.73 2.42.72 5.15C4.63 8.45 3.59 10.87 4.13 13a4.14 4.14 0 003.1 3 4.05 4.05 0 011.08-3.89C9.42 10.92 8 9.79 8 9.79c.67.02 1.3.28 1.81.72a2 2 0 01.58 1.6z" fill="#EF2E2E"></path></svg>
                    </div>
                <div class="grid--cell fl1 lh-lg">
                    <div class="grid--cell fl1 lh-lg">
                        <b><a href="https://stackoverflow.com/help/privileges/protect-questions">Highly active question</a></b>. Earn 10 reputation in order to answer this question. The reputation requirement helps protect this question from spam and non-answer activity.
                        
                    </div>
                </div>
            </div>
        </div>
</aside>




                            <h2 class="bottom-notice" data-loc="1">
Not the answer you're looking for? Browse other questions tagged <a href="https://stackoverflow.com/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="https://stackoverflow.com/questions/tagged/design-patterns" class="post-tag" title="show questions tagged &#39;design-patterns&#39;" rel="tag">design-patterns</a> <a href="https://stackoverflow.com/questions/tagged/singleton" class="post-tag" title="show questions tagged &#39;singleton&#39;" rel="tag">singleton</a>  or <a href="https://stackoverflow.com/questions/ask">ask your own question</a>.                            </h2>
                </div>
            </div>
            <div id="sidebar" class="show-votes" role="complementary" aria-label="sidebar">
                
<div class="s-sidebarwidget s-sidebarwidget__yellow s-anchors s-anchors__grayscale mb16" data-tracker="cb=1">
    <ul class="d-block p0 m0">
                    <div class="s-sidebarwidget--header s-sidebarwidget__small-bold-text fc-light d:fc-black-900 bb bbw1">
                        The Overflow Blog
                    </div>
        <li class="s-sidebarwidget--item grid px16">
            <div class="grid--cell1 fl-shrink0">
<svg aria-hidden="true" class="va-text-top svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>            </div>
            <div class="grid--cell">
                <a href="https://stackoverflow.blog/2020/08/26/kotlin-1-4-released-to-improve-performance/?cb=1" class="js-gps-track" data-ga="[&quot;community bulletin board&quot;,&quot;The Overflow Blog&quot;,&quot;https://stackoverflow.blog/2020/08/26/kotlin-1-4-released-to-improve-performance/&quot;,null,null]" data-gps-track="communitybulletin.click({ priority: 1, position: 0 })">Kotlin 1.4 released to improve performance</a>
            </div>
        </li>
        <li class="s-sidebarwidget--item grid px16">
            <div class="grid--cell1 fl-shrink0">
<svg aria-hidden="true" class="va-text-top svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>            </div>
            <div class="grid--cell">
                <a href="https://stackoverflow.blog/2020/08/28/podcast-264-teaching-yourself-to-code-in-prison/?cb=1" class="js-gps-track" data-ga="[&quot;community bulletin board&quot;,&quot;The Overflow Blog&quot;,&quot;https://stackoverflow.blog/2020/08/28/podcast-264-teaching-yourself-to-code-in-prison/&quot;,null,null]" data-gps-track="communitybulletin.click({ priority: 1, position: 1 })">Podcast 264: teaching yourself to code in prison</a>
            </div>
        </li>
                    <div class="s-sidebarwidget--header s-sidebarwidget__small-bold-text fc-light d:fc-black-900 bb bbw1">
                        Featured on Meta
                    </div>
        <li class="s-sidebarwidget--item grid px16">
            <div class="grid--cell1 fl-shrink0">
<div class="favicon favicon-stackexchangemeta" title="Meta Stack Exchange"></div>            </div>
            <div class="grid--cell">
                <a href="https://meta.stackexchange.com/questions/353446/new-post-formatting?cb=1" class="js-gps-track" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackexchange.com/questions/353446/new-post-formatting&quot;,null,null]" data-gps-track="communitybulletin.click({ priority: 3, position: 2 })">New post formatting</a>
            </div>
        </li>
        <li class="s-sidebarwidget--item grid px16">
            <div class="grid--cell1 fl-shrink0">
<div class="favicon favicon-stackexchangemeta" title="Meta Stack Exchange"></div>            </div>
            <div class="grid--cell">
                <a href="https://meta.stackexchange.com/questions/353492/hot-meta-posts-allow-for-removal-by-moderators-and-thoughts-about-future-impro?cb=1" class="js-gps-track" title="Hot Meta Posts: Allow for removal by moderators, and thoughts about future improvements" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackexchange.com/questions/353492/hot-meta-posts-allow-for-removal-by-moderators-and-thoughts-about-future-impro&quot;,null,null]" data-gps-track="communitybulletin.click({ priority: 3, position: 3 })">Hot Meta Posts: Allow for removal by moderators, and thoughts about future…</a>
            </div>
        </li>
    </ul>
</div>


                    <div class="js-sidebar-zone" style="">
                        <div class="js-zone-container zone-container-sidebar">
    <div id="dfp-tsb" class="everyonelovesstackoverflow everyoneloves__top-sidebar" data-dfp-zone="true" data-google-query-id="CJ_03sGnvesCFUeFvQodT8cJdw" data-clc-ready="true" style="min-height: auto; height: auto; display: none;"><div id="google_ads_iframe_/248424177/stackoverflow.com/sb/question-pages_0__container__" style="border: 0pt none; width: 300px; height: auto; min-height: auto; display: none;"></div></div>
    <div class="js-report-ad-button-container " style="width: 300px"></div>
</div>

                        <div class="js-zone-container zone-container-sidebar">
    <div id="dfp-msb" class="everyonelovesstackoverflow everyoneloves__mid-sidebar" data-clc-stalled="true" data-dfp-zone="true" data-google-query-id="CPT13sGnvesCFdSWvQodzWUBNA" style="min-height: auto; height: auto;"><div id="google_ads_iframe_/248424177/stackoverflow.com/msb/question-pages_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe frameborder="0" src="./C++ Singleton design pattern - Stack Overflow_files/container.html" id="google_ads_iframe_/248424177/stackoverflow.com/msb/question-pages_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="300" height="250" data-is-safeframe="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" data-google-container-id="3" style="border: 0px; vertical-align: bottom;" data-load-complete="true"></iframe></div></div>
    <div class="js-report-ad-button-container " style="width: 300px"></div>
</div>

                        <div id="hireme"></div>
                    </div>

<div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 11708667, position: 0 })">
				<a href="https://stackoverflow.com/q/11708667?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes answered-accepted default">2</div>
				</a>
				<a href="https://stackoverflow.com/questions/11708667/c-singleton-class-getinstance-as-java?noredirect=1&amp;lq=1" class="question-hyperlink">C++ Singleton class getInstance (as java)</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 4797847, position: 1 })">
				<a href="https://stackoverflow.com/q/4797847?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes answered-accepted default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/4797847/how-can-i-do-some-code-work-just-like-a-singleton?noredirect=1&amp;lq=1" class="question-hyperlink">How can I do some code work just like a singleton?</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 28294759, position: 2 })">
				<a href="https://stackoverflow.com/q/28294759?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">2</div>
				</a>
				<a href="https://stackoverflow.com/questions/28294759/disallow-defining-more-than-one-instance-of-a-class?noredirect=1&amp;lq=1" class="question-hyperlink">Disallow defining more than one instance of a class</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 23496732, position: 3 })">
				<a href="https://stackoverflow.com/q/23496732?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/23496732/how-to-prevent-program-from-violation-of-singleton-pattern?noredirect=1&amp;lq=1" class="question-hyperlink">how to prevent program from violation of singleton pattern</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 19307498, position: 4 })">
				<a href="https://stackoverflow.com/q/19307498?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes answered-accepted default">-1</div>
				</a>
				<a href="https://stackoverflow.com/questions/19307498/c-are-there-any-good-alternatives-to-global-declaration-of-this-class-and-sing?noredirect=1&amp;lq=1" class="question-hyperlink">C++ Are there any good alternatives to global declaration of this class and singleton?</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 44583546, position: 5 })">
				<a href="https://stackoverflow.com/q/44583546?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/44583546/c-singleton-class-the-right-way-to-use-and-implement?noredirect=1&amp;lq=1" class="question-hyperlink">c++ Singleton class the right way to use and implement</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 26352336, position: 6 })">
				<a href="https://stackoverflow.com/q/26352336?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/26352336/why-my-singleton-class-returns-two-different-objects?noredirect=1&amp;lq=1" class="question-hyperlink">Why my Singleton class returns two different objects?</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 36667803, position: 7 })">
				<a href="https://stackoverflow.com/q/36667803?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/36667803/c-singleton-pattern-a-few-questions-about-private-member-functions?noredirect=1&amp;lq=1" class="question-hyperlink">C++ - Singleton Pattern, a few questions about private member functions</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 53923581, position: 8 })">
				<a href="https://stackoverflow.com/q/53923581?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/53923581/when-is-static-data-in-function-destroyed?noredirect=1&amp;lq=1" class="question-hyperlink">When is static data in function destroyed</a>
			</div>
            <div class="spacer js-gps-track" data-gps-track="linkedquestion.click({ source_post_id: 1008019, target_question_id: 54168588, position: 9 })">
				<a href="https://stackoverflow.com/q/54168588?lq=1" title="Vote score (upvotes - downvotes)">
					<div class="answer-votes  default">0</div>
				</a>
				<a href="https://stackoverflow.com/questions/54168588/is-this-really-a-achieve-the-single-instantiation-of-a-singleton-class?noredirect=1&amp;lq=1" class="question-hyperlink">Is this really a achieve the single instantiation of a Singleton class</a>
			</div>
		    <div class="spacer more ml32 pl16 pt8">
                <a href="https://stackoverflow.com/questions/linked/1008019?lq=1">See more linked questions</a>
            </div>
	</div>
</div>

                    <div class="module sidebar-related">
                        <h4 id="h-related">Related</h4>
                        <div class="related js-gps-related-questions" data-tracker="rq=1">
                            <div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/57483?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes extra-large">3319</div></a><a href="https://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in?rq=1" class="question-hyperlink">What are the differences between a pointer variable and a reference variable in C++?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/228164?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">458</div></a><a href="https://stackoverflow.com/questions/228164/on-design-patterns-when-should-i-use-the-singleton?rq=1" class="question-hyperlink">On design patterns: When should I use the singleton?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/327955?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1051</div></a><a href="https://stackoverflow.com/questions/327955/does-functional-programming-replace-gof-design-patterns?rq=1" class="question-hyperlink">Does functional programming replace GoF design patterns?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/388242?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes extra-large">4242</div></a><a href="https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list?rq=1" class="question-hyperlink">The Definitive C++ Book Guide and List</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/519520?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1795</div></a><a href="https://stackoverflow.com/questions/519520/difference-between-static-class-and-singleton-pattern?rq=1" class="question-hyperlink">Difference between static class and singleton pattern?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/757743?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">679</div></a><a href="https://stackoverflow.com/questions/757743/what-is-the-difference-between-builder-design-pattern-and-factory-design-pattern?rq=1" class="question-hyperlink">What is the difference between Builder Design pattern and Factory Design pattern?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/1642028?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">9058</div></a><a href="https://stackoverflow.com/questions/1642028/what-is-the-operator-in-c?rq=1" class="question-hyperlink">What is the “--&gt;” operator in C++?</a></div><div class="spacer js-gps-track"><a href="https://stackoverflow.com/q/6760685?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">985</div></a><a href="https://stackoverflow.com/questions/6760685/creating-a-singleton-in-python?rq=1" class="question-hyperlink">Creating a singleton in Python</a></div>
                        </div>
                    </div>

                <div id="hot-network-questions" class="module tex2jax_ignore">
    <h4>
        <a href="https://stackexchange.com/questions?tab=hot" class="js-gps-track s-link s-link__inherit" data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li>
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="https://worldbuilding.stackexchange.com/questions/184443/can-a-species-have-different-ancestors" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can a species have different ancestors?
                </a>

            </li>
            <li>
                <div class="favicon favicon-history" title="History Stack Exchange"></div><a href="https://history.stackexchange.com/questions/60892/why-were-diamond-mining-plots-31-foot-squares" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:324 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why were diamond mining plots 31-foot squares?
                </a>

            </li>
            <li>
                <div class="favicon favicon-softwareengineering" title="Software Engineering Stack Exchange"></div><a href="https://softwareengineering.stackexchange.com/questions/415274/using-a-different-algorithm-depending-on-the-size-of-the-input" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:131 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Using a different algorithm depending on the size of the input
                </a>

            </li>
            <li>
                <div class="favicon favicon-superuser" title="Super User"></div><a href="https://superuser.com/questions/1580562/need-a-regex-to-find-the-word-error-but-not-match-error-opening-local-file" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:3 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Need a regex to find the word "ERROR:", but not match "ERROR: Opening Local File"
                </a>

            </li>
            <li>
                <div class="favicon favicon-retrocomputing" title="Retrocomputing Stack Exchange"></div><a href="https://retrocomputing.stackexchange.com/questions/15988/what-did-the-dod-think-fortran-lacked" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:648 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What did the DoD think Fortran lacked?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-codegolf" title="Code Golf Stack Exchange"></div><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it almost-prime?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-stats" title="Cross Validated"></div><a href="https://stats.stackexchange.com/questions/484648/probability-that-number-of-heads-exceeds-sum-of-die-rolls" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:65 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Probability that number of heads exceeds sum of die rolls
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="https://electronics.stackexchange.com/questions/518650/why-do-voltage-regulator-ics-have-big-ripple-rejection-ratio" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do voltage regulator ICs have big ripple rejection ratio?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-mathematica" title="Mathematica Stack Exchange"></div><a href="https://mathematica.stackexchange.com/questions/229073/sum-all-the-adjacent-values-in-an-array-with-some-conditions" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:387 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Sum all the adjacent values in an array, with some conditions
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="https://workplace.stackexchange.com/questions/163298/is-workaholic-culture-a-requirement-or-optional" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is "workaholic" culture a requirement, or optional?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="https://politics.stackexchange.com/questions/56657/must-a-minimum-time-pass-before-the-vice-president-replaces-the-elected-presiden" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Must a minimum time pass before the Vice-President replaces the elected President in the US?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="https://electronics.stackexchange.com/questions/518521/what-are-13-oz-copper-pcbs-used-for" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What are 13 oz copper PCBs used for?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="https://academia.stackexchange.com/questions/154378/how-to-deal-with-overly-helpful-co-advisor" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to deal with overly helpful co-advisor?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-sqa" title="Software Quality Assurance &amp; Testing Stack Exchange"></div><a href="https://sqa.stackexchange.com/questions/45573/how-many-test-steps-are-allowed-in-a-single-manual-test-case" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:244 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How many test steps are allowed in a single manual test case?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-bicycles" title="Bicycles Stack Exchange"></div><a href="https://bicycles.stackexchange.com/questions/71684/headwind-issues" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:126 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Headwind issues
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="https://tex.stackexchange.com/questions/560220/align-mathematical-formulas" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Align Mathematical formulas
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="https://money.stackexchange.com/questions/130223/what-are-some-effective-ways-to-help-someone-financially" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What are some effective ways to help someone financially?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-matheducators" title="Mathematics Educators Stack Exchange"></div><a href="https://matheducators.stackexchange.com/questions/18725/how-do-you-explain-concavity-of-a-polynomial-without-any-calculus" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:548 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do you explain concavity of a polynomial without any calculus?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="https://puzzling.stackexchange.com/questions/101575/which-door-do-you-need-to-open-to-get-the-clue" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Which door do you need to open to get the clue?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-movies" title="Movies &amp; TV Stack Exchange"></div><a href="https://movies.stackexchange.com/questions/110605/how-did-the-original-classic-doctor-who-end" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:367 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How did the original/classic Doctor Who end?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="https://rpg.stackexchange.com/questions/174756/can-i-use-a-gauntlet-as-an-arcane-focus" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can I use a gauntlet as an arcane focus?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-astronomy" title="Astronomy Stack Exchange"></div><a href="https://astronomy.stackexchange.com/questions/38625/why-is-3ghz-the-best-frequency-at-which-to-measure-the-suns-microwave-output" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:514 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why is 3GHz the best frequency at which to measure the sun's microwave output?
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="https://puzzling.stackexchange.com/questions/101595/change-four-to-nine-in-fewest-steps" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Change Four to Nine in fewest steps
                </a>

            </li>
            <li class="js-hidden" style="">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="https://puzzling.stackexchange.com/questions/101606/one-truthteller-liar-and-one-random-person" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    One truthteller/liar and one random person
                </a>

            </li>
    </ul>

        
</div>

                            <div id="feed-link" class="js-feed-link">
        <a href="https://stackoverflow.com/feeds/question/1008019" title="Feed of this question and its answers">
            <svg aria-hidden="true" class="fc-orange-400 svg-icon iconRss" width="18" height="18" viewBox="0 0 18 18"><path d="M1 3c0-1.1.9-2 2-2h12a2 2 0 012 2v12a2 2 0 01-2 2H3a2 2 0 01-2-2V3zm14.5 12C15.5 8.1 9.9 2.5 3 2.5V5a10 10 0 0110 10h2.5zm-5 0A7.5 7.5 0 003 7.5V10a5 5 0 015 5h2.5zm-5 0A2.5 2.5 0 003 12.5V15h2.5z"></path></svg>
            Question feed
        </a>
    </div>
    <aside class="s-modal js-feed-link-modal" tabindex="-1" role="dialog" aria-labelledby="feed-modal-title" aria-describedby="feed-modal-description" aria-hidden="true">
        <div class="s-modal--dialog js-modal-dialog wmx4" role="document" data-controller="se-draggable">
            <h1 class="s-modal--header fw-bold js-first-tabbable c-move" id="feed-modal-title" data-target="se-draggable.handle" tabindex="0">
                Subscribe to RSS
            </h1>
            <div class="grid gs4 gsy fd-column">
                <div class="grid--cell">
                    <label class="d-block s-label c-default" for="feed-url">
                        Question feed
                        <p class="s-description mt2" id="feed-modal-description">To subscribe to this RSS feed, copy and paste this URL into your RSS reader.</p>
                    </label>
                </div>
                <div class="grid ps-relative">
                    <input class="s-input" type="text" name="feed-url" id="feed-url" readonly="readonly" value="https://stackoverflow.com/feeds/question/1008019">
                    <svg aria-hidden="true" class="s-input-icon fc-orange-400 svg-icon iconRss" width="18" height="18" viewBox="0 0 18 18"><path d="M1 3c0-1.1.9-2 2-2h12a2 2 0 012 2v12a2 2 0 01-2 2H3a2 2 0 01-2-2V3zm14.5 12C15.5 8.1 9.9 2.5 3 2.5V5a10 10 0 0110 10h2.5zm-5 0A7.5 7.5 0 003 7.5V10a5 5 0 015 5h2.5zm-5 0A2.5 2.5 0 003 12.5V15h2.5z"></path></svg>
                </div>
            </div>
            <a class="s-modal--close s-btn s-btn__muted js-modal-close js-last-tabbable" href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" aria-label="Close">
                <svg aria-hidden="true" class="svg-icon iconClearSm" width="14" height="14" viewBox="0 0 14 14"><path d="M12 3.41L10.59 2 7 5.59 3.41 2 2 3.41 5.59 7 2 10.59 3.41 12 7 8.41 10.59 12 12 10.59 8.41 7 12 3.41z"></path></svg>
            </a>
        </div>
    </aside>

            </div>
    </div>
<script>StackExchange.ready(function(){$.get('/posts/1008019/ivc/0f85');});</script>
<noscript><div><img src="/posts/1008019/ivc/0f85" class="dno" alt="" width="0" height="0"></div></noscript><div style="display:none" id="prettify-lang">lang-cpp</div></div>


        </div>
    </div>
        
<script>;try{(function(a){function b(a){return'string'==typeof a?document.getElementById(a):a}function c(a){return a=b(a),!!a&&'none'===getComputedStyle(a).display}function d(a){return!c(a)}function e(a){return!!a}function f(a){return /^\s*$/.test(b(a).innerHTML)}function g(a){var b=a.style;b.height=b.maxHeight=b.minHeight='auto',b.display='none'}function h(a){var b=a.style;b.height=b.maxHeight=b.minHeight='auto',b.display='none',[].forEach.call(a.children,h)}function i(a){var b=a.style;b.height=b.maxHeight=b.minHeight='auto',b.removeProperty('display')}function j(a,b){var c;return function(){return a&&(c=a.call(b||this,arguments),a=null),c}}function k(a){var b=document.createElement('script');b.src=a,document.body.appendChild(b)}function l(a){return m([],a)}function m(a,b){return a.push=function(a){return b(),delete this.push,this.push(a)},a}function n(){try{return!new Function('return async()=>{};')}catch(a){return!0}}function o(){return'undefined'!=typeof googletag&&!!googletag.apiReady}function p(){o()||(googletag={cmd:l(B)})}function q(){var a=document.createElement('div');a.className='adsbox',a.id='clc-abd',a.style.position='absolute',a.style.pointerEvents='none',a.innerHTML='&nbsp;',document.body.appendChild(a)}function r(){return Object.keys(F.ids)}function s(a){var b=F.ids[a],c=F.slots[b];'function'==typeof c&&(c=c(a));return{path:'/'+C+'/'+E+'/'+b+'/'+D,sizes:c,zone:b}}function t(a){try{Array.isArray(clc.dfp.slotsRenderedEvents)||(clc.dfp.slotsRenderedEvents=[]),clc.dfp.slotsRenderedEvents.push(a);var b=a.slot.getSlotElementId(),c=[];b||c.push('id=0');var d=document.getElementById(b);if(!b||d?d.hasAttribute('data-clc-stalled')&&c.push('st=1'):c.push('el=0'),0!==c.length)return void G(c.join('&'));var e=s(b),f=e.zone;if(clc.collapse&&clc.collapse[f]&&a.isEmpty)return h(d),void d.setAttribute('data-clc-ready','true');if(-1!==y.dh.indexOf(a.lineItemId))h(d);else if(a.lineItemId){d.setAttribute('data-clc-prefilled','true');var j=d.parentElement;if(j.classList.contains('js-zone-container')){g(j);var k=j.querySelectorAll('.js-report-ad-button-container'),l=k[0];switch(l.style.height='24px',b){case'dfp-tlb':case'dfp-tag':{j.classList.add('mb8');break}case'dfp-mlb':case'dfp-smlb':case'dfp-bmlb':{j.classList.add('my8');break}case'dfp-isb':{j.classList.add('mt24');break}case'dfp-m-aq':{j.classList.add('my12'),j.classList.add('mx-auto');break}default:}i(j),i(d)}else i(d);if('dfp-msb'==b){var m=document.getElementById('hireme');h(m)}}d.setAttribute('data-clc-ready','true')}catch(a){var n=document.querySelector('#dfp-tsb, #dfp-isb, #clc-tsb');n&&n.setAttribute('data-clc-ready','true'),G('e=1')}}function u(a,b){'dfp-isb'===a&&b.setTargeting('Sidebar',['Inline']),'dfp-tsb'===a&&b.setTargeting('Sidebar',['Right']);var c=s(a),d=c.path,e=c.sizes,f=c.zone,g=googletag.defineSlot(d,e,a);g.addService(b),!1}function v(b){var c=a.dfp&&a.dfp.targeting||{};'SystemDefault'===c.ProductVariant&&(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?c.ProductVariant='Dark':c.ProductVariant='Light'),Object.keys(c).forEach(function(a){b.setTargeting(a,c[a])})}function w(a){var g=a.map(b).filter(e);return{eligible:g.filter(f).filter(d),ineligible:g.filter(c)}}function x(b){void 0===b&&(b=r());var c=['dfp-mlb','dfp-smlb'];if(!o())return p(),void googletag.cmd.push(function(){return x(b)});var d=w(b),e=d.eligible,f=d.ineligible;if(e.forEach(function(a){g(a)}),f.forEach(h),0!==e.length){y.abd&&q(),googletag.destroySlots();var i=googletag.pubads();y.sf&&(i.setForceSafeFrame(!0),i.setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0})),y.ll||i.enableSingleRequest(),a.sreEvent||(i.addEventListener('slotRenderEnded',t),a.sreEvent=!0),v(i);var j=e.filter(function(a){return!y.ll||0>c.indexOf(a.id)}),k=e.filter(function(a){return!!y.ll&&0<=c.indexOf(a.id)});j.forEach(function(a){u(a.id,i),a.setAttribute('data-dfp-zone','true')}),googletag.enableServices(),j.forEach(function(a){googletag.display(a.id)}),y.ll&&(i.enableLazyLoad({fetchMarginPercent:0,renderMarginPercent:0}),k.forEach(function(a){u(a.id,i),a.setAttribute('data-clc-prefilled','true')}),k.forEach(function(a){googletag.display(a.id)}))}}var y=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d,e=0,f=b;e<f.length;e++)for(var g in d=f[e],d)a[g]=d[g];return a}({"lib":"https://cdn.sstatic.net/clc/clc.min.js?v=d7c7e62bd2f5","style":"https://cdn.sstatic.net/clc/styles/clc.min.css?v=83419f27e8fa","u":"https://clc.stackoverflow.com/markup.js","wa":true,"kt":2000,"tto":true,"h":"clc.stackoverflow.com","allowed":"^(((talent\\.)?stackoverflow)|(blog\\.codinghorror)|(serverfault|askubuntu)|([^\\.]+\\.stackexchange))\\.com$","wv":true,"al":false,"dh":[5171832659],"abd":true},a.options||{}),z=j(function(){var a=y.lib;n()&&(a=a.replace(/(\.min)?\.js(\?v=[0-9a-fA-F]+)?$/,'.ie$1.js$2')),k(a)}),A=a.cmd||[];Array.isArray(A)&&(0<A.length?z():m(A,z));var B=j(function(){k('https://www.googletagservices.com/tag/js/gpt.js')}),C='248424177',D=/^\/tags\//.test(location.pathname)||/^\/questions\/tagged\//.test(location.pathname)?'tag-pages':/^\/$/.test(location.pathname)||/^\/home/.test(location.pathname)?'home-page':'question-pages',E=location.hostname;var F={slots:{lb:[[728,90]],mlb:[[728,90]],smlb:[[728,90]],bmlb:[[728,90]],sb:function(a){return'dfp-tsb'===a?[[300,250],[300,600]]:[[300,250]]},"tag-sponsorship":[[730,135]],"mobile-below-question":[[320,50],[300,250]],msb:[[300,250],[300,600]]},ids:{"dfp-tlb":'lb',"dfp-mlb":'mlb',"dfp-smlb":'smlb',"dfp-bmlb":'bmlb',"dfp-tsb":'sb',"dfp-isb":'sb',"dfp-tag":'tag-sponsorship',"dfp-msb":'msb',"dfp-m-aq":'mobile-below-question',"clc-tlb":'lb',"clc-mlb":'mlb',"clc-tsb":'sb'}},G=function(a){new Image().src='https://'+y.h+'/stalled.gif?'+a};(function(){var b=y.al;b&&A.push(function(){return a.load()})})(),p(),a.dfp={load:x},a.options=y,a.cmd=A})(this.clc=this.clc||{})}catch(a){window.console.error(a)}</script>    <script>
        var clc = clc || {};
        clc.collapse = { sb: !0, 'tag-sponsorship': !0, lb: !0, mlb: !0, smlb: !0, bmlb: !0, 'mobile-below-question': !0 };
        clc.options = clc.options || {};
        clc.options.sf = !0;
        clc.options.hb = !1;
        clc.options.ll = !0;
        clc.cmd = clc.cmd || [];
        clc.cmd.push(function () { window.clc_request='AhYes54eS9gIAAAAAJNhDwACAAAAAgAAAAAfAAAAfGMrK3xkZXNpZ24tcGF0dGVybnN8c2luZ2xldG9ufACnpmWv8oy-bNo9'; clc.load(); });
        clc.dfp = clc.dfp || {};
        clc.dfp.targeting = {Registered:['false'],'so-tag':['c_plus_plus','design-patterns','singleton'],'tag-reportable':['c_plus_plus','design-patterns','singleton'],'tag-non-reportable':['c_plus_plus','design-patterns','singleton'],NumberOfAnswers:['20-plus']};
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        googletag.cmd.push(function () { clc.dfp.load(); });

            StackExchange.ready(function () { googletag.cmd.push(function () { StackExchange.ads.init(googletag, '/ads/report-ad', 'Report this ad') }) });
    </script><script src="./C++ Singleton design pattern - Stack Overflow_files/clc.min.js.下载"></script><script src="./C++ Singleton design pattern - Stack Overflow_files/gpt.js.下载"></script>

            <footer id="footer" class="site-footer js-footer" role="contentinfo">
        <div class="site-footer--container">
                <div class="site-footer--logo">
                    
                    <a href="https://stackoverflow.com/"><svg aria-hidden="true" class="native svg-icon iconLogoGlyphMd" width="32" height="37" viewBox="0 0 32 37"><path d="M26 33v-9h4v13H0V24h4v9h22z" fill="#BCBBBB"></path><path d="M21.5 0l-2.7 2 9.9 13.3 2.7-2L21.5 0zM26 18.4L13.3 7.8l2.1-2.5 12.7 10.6-2.1 2.5zM9.1 15.2l15 7 1.4-3-15-7-1.4 3zm14 10.79l.68-2.95-16.1-3.35L7 23l16.1 2.99zM23 30H7v-3h16v3z" fill="#F48024"></path></svg></a>
                </div>
            <nav class="site-footer--nav">
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title"><a href="https://stackoverflow.com/" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 15})">Stack Overflow</a></h5>
                        <ul class="-list js-primary-footer-links">
                            <li class="-item"><a href="https://stackoverflow.com/questions" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 16})">Questions</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 17})">Jobs</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/jobs/directory/developer-jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 11})">Developer Jobs Directory</a></li>
                                     <li class="-item"><a href="https://stackoverflow.com/jobs/salary" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 28})">Salary Calculator</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/help" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 3 })">Help</a></li>
                                <li class="-item"><a onclick="StackExchange.switchMobile(&quot;on&quot;)" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 12 })">Mobile</a></li>
                        <li class="-item"><a class="-link" role="button">Disable Responsiveness</a></li></ul>
                    </div>
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title"><a href="https://stackoverflowbusiness.com/" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 19 })">Products</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="https://stackoverflow.com/teams" class="js-gps-track -link" data-ga="[&quot;teams traffic&quot;,&quot;footer - site nav&quot;,&quot;stackoverflow.com/teams&quot;,null,{&quot;dimension4&quot;:&quot;teams&quot;}]" data-gps-track="footer.click({ location: 2, link: 29 })">Teams</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/talent" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 20 })">Talent</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/advertising" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 21 })">Advertising</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/enterprise" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 22 })">Enterprise</a></li>
                        </ul>
                    </div>
                <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                    <h5 class="-title"><a class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company">Company</a></h5>
                    <ul class="-list">
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company">About</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 27 })" href="https://stackoverflow.com/company/press">Press</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 9 })" href="https://stackoverflow.com/company/work-here">Work Here</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 7 })" href="https://stackoverflow.com/legal">Legal</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 8 })" href="https://stackoverflow.com/legal/privacy-policy">Privacy Policy</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 13 })" href="https://stackoverflow.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
                <div class="site-footer--col site-footer--categories-nav site-footer--col__visible">
                    <a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="site-footer--back js-footer-back"><svg aria-hidden="true" class="svg-icon iconArrowLeftAlt" width="18" height="18" viewBox="0 0 18 18"><path d="M10.58 16L12 14.59 6.4 9 12 3.41 10.57 2l-7 7 7 7z"></path></svg></a>
                    <div>
                        <h5 class="-title"><a href="https://stackexchange.com/" data-gps-track="footer.click({ location: 2, link: 30 })">Stack Exchange<br> Network</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Technology">Technology</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Life / Arts">Life / Arts</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Culture / Recreation">Culture / Recreation</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Science">Science</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/questions/1008019/c-singleton-design-pattern#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Other">Other</a></li>
                        </ul>
                    </div>
                </div>
                <div class="site-footer--categories">
                        <div class="site-footer--col site-footer--category js-footer-col" data-name="Technology">
        <ul class="-list">
                <li class="-item"><a href="https://stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and enthusiast programmers">Stack Overflow</a></li>
                <li class="-item"><a href="https://serverfault.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="system and network administrators">Server Fault</a></li>
                <li class="-item"><a href="https://superuser.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="computer enthusiasts and power users">Super User</a></li>
                <li class="-item"><a href="https://webapps.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of web applications">Web Applications</a></li>
                <li class="-item"><a href="https://askubuntu.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                <li class="-item"><a href="https://webmasters.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="pro webmasters">Webmasters</a></li>
                <li class="-item"><a href="https://gamedev.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and independent game developers">Game Development</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://tex.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                <li class="-item"><a href="https://softwareengineering.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professionals, academics, and students working within the systems development life cycle">Software Engineering</a></li>
                <li class="-item"><a href="https://unix.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                <li class="-item"><a href="https://apple.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                <li class="-item"><a href="https://wordpress.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="WordPress developers and administrators">WordPress Development</a></li>
                <li class="-item"><a href="https://gis.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                <li class="-item"><a href="https://electronics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://android.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                <li class="-item"><a href="https://security.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="information security professionals">Information Security</a></li>
                <li class="-item"><a href="https://dba.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                <li class="-item"><a href="https://drupal.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Drupal developers and administrators">Drupal Answers</a></li>
                <li class="-item"><a href="https://sharepoint.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="SharePoint enthusiasts">SharePoint</a></li>
                <li class="-item"><a href="https://ux.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="user experience researchers and experts">User Experience</a></li>
                <li class="-item"><a href="https://mathematica.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Wolfram Mathematica">Mathematica</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://salesforce.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                <li class="-item"><a href="https://expressionengine.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="administrators, end users, developers and designers for ExpressionEngine® CMS">ExpressionEngine® Answers</a></li>
                <li class="-item"><a href="https://pt.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores profissionais e entusiastas">Stack Overflow em Português</a></li>
                <li class="-item"><a href="https://blender.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who use Blender to create 3D graphics, animations, or games">Blender</a></li>
                <li class="-item"><a href="https://networkengineering.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="network engineers">Network Engineering</a></li>
                <li class="-item"><a href="https://crypto.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                <li class="-item"><a href="https://codereview.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="peer programmer code reviews">Code Review</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://magento.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of the Magento e-Commerce platform">Magento</a></li>
                <li class="-item"><a href="https://softwarerecs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people seeking specific software recommendations">Software Recommendations</a></li>
                <li class="-item"><a href="https://dsp.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                <li class="-item"><a href="https://emacs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those using, extending or developing Emacs">Emacs</a></li>
                <li class="-item"><a href="https://raspberrypi.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                <li class="-item"><a href="https://ru.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="программистов">Stack Overflow на русском</a></li>
                <li class="-item"><a href="https://codegolf.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programming puzzle enthusiasts and code golfers">Code Golf</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://es.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores y profesionales de la informática">Stack Overflow en español</a></li>
                <li class="-item"><a href="https://ethereum.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Ethereum, the decentralized application platform and smart contract enabled blockchain">Ethereum</a></li>
                <li class="-item"><a href="https://datascience.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Data science professionals, Machine Learning specialists, and those interested in learning more about the field">Data Science</a></li>
                <li class="-item"><a href="https://arduino.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="developers of open-source hardware and software that is compatible with Arduino">Arduino</a></li>
                <li class="-item"><a href="https://bitcoin.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Bitcoin crypto-currency enthusiasts">Bitcoin</a></li>
                <li class="-item"><a href="https://sqa.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="software quality control experts, automation engineers, and software testers">Software Quality Assurance &amp; Testing</a></li>
                <li class="-item"><a href="https://sound.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="sound engineers, producers, editors, and enthusiasts">Sound Design</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://windowsphone.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="enthusiasts and power users of Windows Phone OS">Windows Phone</a></li>
                <li class="-item">
                    <a href="https://stackexchange.com/sites#technology" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (28)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts">
        <ul class="-list">
                <li class="-item"><a href="https://photo.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional, enthusiast and amateur photographers">Photography</a></li>
                <li class="-item"><a href="https://scifi.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                <li class="-item"><a href="https://graphicdesign.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                <li class="-item"><a href="https://movies.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="movie and TV enthusiasts">Movies &amp; TV</a></li>
                <li class="-item"><a href="https://music.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                <li class="-item"><a href="https://worldbuilding.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="writers/artists using science, geography and culture to construct imaginary worlds and settings">Worldbuilding</a></li>
                <li class="-item"><a href="https://video.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="engineers, producers, editors, and enthusiasts spanning the fields of video, and media creation">Video Production</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts"><ul class="-list">
                <li class="-item"><a href="https://cooking.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                <li class="-item"><a href="https://diy.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="contractors and serious DIYers">Home Improvement</a></li>
                <li class="-item"><a href="https://money.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                <li class="-item"><a href="https://academia.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="academics and those enrolled in higher education">Academia</a></li>
                <li class="-item"><a href="https://law.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="legal professionals, students, and others with experience or interest in law">Law</a></li>
                <li class="-item"><a href="https://fitness.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="physical fitness professionals, athletes, trainers, and those providing health-related needs">Physical Fitness</a></li>
                <li class="-item"><a href="https://gardening.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="gardeners and landscapers">Gardening &amp; Landscaping</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts"><ul class="-list">
                <li class="-item"><a href="https://parenting.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="parents, grandparents, nannies and others with a parenting role">Parenting</a></li>
                <li class="-item">
                    <a href="https://stackexchange.com/sites#lifearts" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (10)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation">
        <ul class="-list">
                <li class="-item"><a href="https://english.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                <li class="-item"><a href="https://skeptics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientific skepticism">Skeptics</a></li>
                <li class="-item"><a href="https://judaism.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                <li class="-item"><a href="https://travel.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="road warriors and seasoned travelers">Travel</a></li>
                <li class="-item"><a href="https://christianity.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                <li class="-item"><a href="https://ell.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="speakers of other languages learning English">English Language Learners</a></li>
                <li class="-item"><a href="https://japanese.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://chinese.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Chinese language">Chinese Language</a></li>
                <li class="-item"><a href="https://french.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the French language">French Language</a></li>
                <li class="-item"><a href="https://german.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="speakers of German wanting to discuss the finer points of the language and translation">German Language</a></li>
                <li class="-item"><a href="https://hermeneutics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professors, theologians, and those interested in exegetical analysis of biblical texts">Biblical Hermeneutics</a></li>
                <li class="-item"><a href="https://history.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="historians and history buffs">History</a></li>
                <li class="-item"><a href="https://spanish.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="linguists, teachers, students and Spanish language enthusiasts in general wanting to discuss the finer points of the language">Spanish Language</a></li>
                <li class="-item"><a href="https://islam.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Muslims, experts in Islam, and those interested in learning more about Islam">Islam</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://rus.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="лингвистов и энтузиастов русского языка">Русский язык</a></li>
                <li class="-item"><a href="https://russian.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Russian language">Russian Language</a></li>
                <li class="-item"><a href="https://gaming.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                <li class="-item"><a href="https://bicycles.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                <li class="-item"><a href="https://rpg.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                <li class="-item"><a href="https://anime.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="anime and manga fans">Anime &amp; Manga</a></li>
                <li class="-item"><a href="https://puzzling.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who create, solve, and study puzzles">Puzzling</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://mechanics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="mechanics and DIY enthusiast owners of cars, trucks, and motorcycles">Motor Vehicle Maintenance &amp; Repair</a></li>
                <li class="-item"><a href="https://boardgames.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who like playing board games, designing board games or modifying the rules of existing board games">Board &amp; Card Games</a></li>
                <li class="-item"><a href="https://bricks.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="LEGO® and building block enthusiasts">Bricks</a></li>
                <li class="-item"><a href="https://homebrew.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="dedicated home brewers and serious enthusiasts">Homebrewing</a></li>
                <li class="-item"><a href="https://martialarts.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students and teachers of all martial arts">Martial Arts</a></li>
                <li class="-item"><a href="https://outdoors.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who love being outdoors enjoying nature and wilderness, and learning about the required skills and equipment">The Great Outdoors</a></li>
                <li class="-item"><a href="https://poker.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="serious players and enthusiasts of poker">Poker</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://chess.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="serious players and enthusiasts of chess">Chess</a></li>
                <li class="-item"><a href="https://sports.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="participants in team and individual sport activities">Sports</a></li>
                <li class="-item">
                    <a href="https://stackexchange.com/sites#culturerecreation" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (16)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Science">
        <ul class="-list">
                <li class="-item"><a href="https://mathoverflow.net/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional mathematicians">MathOverflow</a></li>
                <li class="-item"><a href="https://math.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                <li class="-item"><a href="https://stats.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                <li class="-item"><a href="https://cstheory.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                <li class="-item"><a href="https://physics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="active researchers, academics and students of physics">Physics</a></li>
                <li class="-item"><a href="https://chemistry.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientists, academics, teachers, and students in the field of chemistry">Chemistry</a></li>
                <li class="-item"><a href="https://biology.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="biology researchers, academics, and students">Biology</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Science"><ul class="-list">
                <li class="-item"><a href="https://cs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                <li class="-item"><a href="https://philosophy.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those interested in the study of the fundamental nature of knowledge, reality, and existence">Philosophy</a></li>
                <li class="-item"><a href="https://linguistics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional linguists and others with an interest in linguistic research and theory">Linguistics</a></li>
                <li class="-item"><a href="https://psychology.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="practitioners, researchers, and students in cognitive science, psychology, neuroscience, and psychiatry">Psychology &amp; Neuroscience</a></li>
                <li class="-item"><a href="https://scicomp.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientists using computers to solve scientific problems">Computational Science</a></li>
                <li class="-item">
                    <a href="https://stackexchange.com/sites#science" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (10)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Other">
        <ul class="-list">
                <li class="-item"><a href="https://meta.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                <li class="-item"><a href="https://stackapps.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                <li class="-item"><a href="https://api.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programmatic interaction with Stack Exchange sites">API</a></li>
                <li class="-item"><a href="https://data.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="querying Stack Exchange data using SQL">Data</a></li>
        </ul>
    </div>

                </div>
            </nav>
            <div class="site-footer--copyright fs-fine">
                <ul class="-list">
                    <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link:4 })" href="https://stackoverflow.blog/?blb=1">Blog</a></li>
                    <li class="-item"><a href="https://www.facebook.com/officialstackoverflow/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 31 })">Facebook</a></li>
                    <li class="-item"><a href="https://twitter.com/stackoverflow" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 32 })">Twitter</a></li>
                    <li class="-item"><a href="https://linkedin.com/company/stack-overflow" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 33 })">LinkedIn</a></li>
                    <li class="-item"><a href="https://www.instagram.com/thestackoverflow" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 36 })">Instagram</a></li>
                </ul>

                <p class="mt-auto mb24">
site design / logo © 2020 Stack Exchange Inc; user contributions licensed under <a href="https://stackoverflow.com/help/licensing">cc by-sa</a>.                    <span id="svnrev">rev&nbsp;2020.8.27.37506</span>
                </p>
            </div>
        </div>

    </footer>

            <script>StackExchange.ready(function () { StackExchange.responsiveness.addSwitcher(); })</script>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled
            <img src="https://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno">
        </div>
    </noscript>

            <script>
(function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            StackExchange.ready(function () {

                StackExchange.ga.init({
                    sendTitles: true,
                    tracker: window.ga,
                    trackingCodes: [
                        'UA-108242619-1'
                    ],
                        checkDimension: 'dimension42'
                });



                    StackExchange.ga.setDimension('dimension2', '|c&#x2B;&#x2B;|design-patterns|singleton|');

                    StackExchange.ga.setDimension('dimension3', 'Questions/Show');


                StackExchange.ga.trackPageView();
            });
            /**/

            var _qevents = _qevents || [],
            _comscore = _comscore || [];
            (function() {
                var s = document.getElementsByTagName('script')[0],
                    qc = document.createElement('script');
 qc.async = true;
                    qc.src = 'https://secure.quantserve.com/quant.js';
                    s.parentNode.insertBefore(qc, s);
                    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });/**/
 var sc = document.createElement('script');
                    sc.async = true;
                    sc.src = 'https://sb.scorecardresearch.com/beacon.js';
                    s.parentNode.insertBefore(sc, s);
                    _comscore.push({ c1: "2", c2: "17440561" });            })();
                </script>

    
    
    
<div class="adsbox" id="clc-abd" style="position: absolute; pointer-events: none;">&nbsp;</div><iframe id="google_osd_static_frame_1750480992409" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./C++ Singleton design pattern - Stack Overflow_files/saved_resource.html"></iframe></body></html>